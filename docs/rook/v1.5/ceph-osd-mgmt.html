












































<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    
    <meta name="robots" content="noindex">
    

    <title>Ceph Docs</title>

    <link rel="canonical" href="https://rook.io/docs/rook/v1.5/ceph-osd-mgmt.html">

    <link rel="icon" href="/favicon.ico" />
<link rel="icon" type="image/png" href="/images/favicon_16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="/images/favicon_32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/images/favicon_48x48.png" sizes="48x48" />
<link rel="icon" type="image/png" href="/images/favicon_192x192.png" sizes="192x192" />


    <link href="//fonts.googleapis.com/css?family=Montserrat:500|Open+Sans:300,400,600" rel="stylesheet">
    
    <link rel="stylesheet" href="/css/main.css">
    
      <link rel="stylesheet" href="/css/docs.css" />
    
  </head>
  <body>
    <nav id="navigation" aria-label="Navigation">
  <div>
    <div class="logo">
      <a href="/"><img src="/images/rook-logo.svg"/></a>
    </div>
    <div
      class="hamburger-controls"
      onclick="if (document.body.classList.contains('menu-open')) { document.body.classList.remove('menu-open') } else { document.body.classList.add('menu-open') }; return false;">
      <span></span> <span></span> <span></span>
    </div>
    <ul class="links">
      <li class="dropdown">
        <a role="button" href="javascript:void(0)">Documentation</a>
        <div class="dropdown-content">
          <a href="/docs/rook/v1.9/">Ceph</a>
          <a href="/docs/cassandra/v1.7/">Cassandra</a>
          <a href="/docs/nfs/v1.7/">NFS</a>
        </div>
      <li class="dropdown">
        <a role="button" href="javascript:void(0)">Community</a>
        <div class="dropdown-content">
          <a href="//github.com/rook/rook">GitHub</a>
          <a href="//slack.rook.io/">Slack</a>
          <a href="//groups.google.com/forum/#!forum/rook-dev">Forum</a>
          <a href="//twitter.com/rook_io">Twitter</a>
        </div>
      </li>
      <li><a href="//blog.rook.io/">Blog</a></li>
      <li><a class="button small" href="/docs/rook/v1.9/quickstart.html">Get Started</a></li>
    </ul>
  </div>
</nav>

    <main id="content" aria-label="Content"><div>



















<section class="docs-header">
  <h1>Ceph</h1>
  <div class="versions">
    <a role="button" href="javascript:void(0)">Rook Ceph v1.5</a>
    <div class="versions-dropdown-content">
      
        <a href="/docs/rook/v1.9/ceph-osd-mgmt.html">Rook Ceph v1.9</a>
      
        <a href="/docs/rook/v1.8/ceph-osd-mgmt.html">Rook Ceph v1.8</a>
      
        <a href="/docs/rook/v1.7/ceph-osd-mgmt.html">Rook Ceph v1.7</a>
      
        <a href="/docs/rook/v1.6/ceph-osd-mgmt.html">Rook Ceph v1.6</a>
      
        <a href="/docs/rook/v1.5/ceph-osd-mgmt.html" class="active">Rook Ceph v1.5</a>
      
        <a href="/docs/rook/v1.4/ceph-osd-mgmt.html">Rook Ceph v1.4</a>
      
        <a href="/docs/rook/v1.3/ceph-osd-mgmt.html">Rook Ceph v1.3</a>
      
        <a href="/docs/rook/v1.2/ceph-osd-mgmt.html">Rook Ceph v1.2</a>
      
        <a href="/docs/rook/v1.1/ceph-osd-mgmt.html">Rook Ceph v1.1</a>
      
        <a href="/docs/rook/v1.0/ceph-osd-mgmt.html">Rook Ceph v1.0</a>
      
        <a href="/docs/rook/v0.9/ceph-osd-mgmt.html">Rook Ceph v0.9</a>
      
        <a href="/docs/rook/v0.8/ceph-osd-mgmt.html">Rook Ceph v0.8</a>
      
        <a href="/docs/rook/v0.7/ceph-osd-mgmt.html">Rook Ceph v0.7</a>
      
        <a href="/docs/rook/v0.6/ceph-osd-mgmt.html">Rook Ceph v0.6</a>
      
        <a href="/docs/rook/v0.5/ceph-osd-mgmt.html">Rook Ceph v0.5</a>
      
        <a href="/docs/rook/latest/ceph-osd-mgmt.html">Rook Ceph latest</a>
      
    </div>
    <img src="/images/arrow.svg" />
  </div>
</section>
<div class="page">
  <div class="docs-menu">
      <ul id="docs-ul"></ul>
  </div>
  <div class="docs-content">
    <div class="docs-actions">
      <a id="edit" href="https://github.com/rook/rook/blob/master/Documentation/ceph-osd-mgmt.md">Edit on GitHub</a>
    </div>
    
      <div class="alert old">
        <p><b>PLEASE NOTE</b>: This document applies to v1.5 version and not to the latest <strong>stable</strong> release v1.9</p>
      </div>
    
    <div class="docs-text">
      
<h1 id="ceph-osd-management">Ceph OSD Management</h1>

<p>Ceph Object Storage Daemons (OSDs) are the heart and soul of the Ceph storage platform.
Each OSD manages a local device and together they provide the distributed storage. Rook will automate creation and management of OSDs to hide the complexity
based on the desired state in the CephCluster CR as much as possible. This guide will walk through some of the scenarios
to configure OSDs where more configuration may be required.</p>

<h2 id="osd-health">OSD Health</h2>

<p>The <a href="/docs/rook/v1.5/ceph-toolbox.html">rook-ceph-tools pod</a> provides a simple environment to run Ceph tools. The <code class="language-plaintext highlighter-rouge">ceph</code> commands
mentioned in this document should be run from the toolbox.</p>

<p>Once the is created, connect to the pod to execute the <code class="language-plaintext highlighter-rouge">ceph</code> commands to analyze the health of the cluster,
in particular the OSDs and placement groups (PGs). Some common commands to analyze OSDs include:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ceph status
ceph osd tree
ceph osd status
ceph osd df
ceph osd utilization
</code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">kubectl -n rook-ceph exec -it $</span><span class="o">(</span>kubectl <span class="nt">-n</span> rook-ceph get pod <span class="nt">-l</span> <span class="s2">"app=rook-ceph-tools"</span> <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.items[0].metadata.name}'</span><span class="o">)</span> bash
</code></pre></div></div>

<h2 id="add-an-osd">Add an OSD</h2>

<p>The <a href="/docs/rook/v1.5/ceph-quickstart.html">QuickStart Guide</a> will provide the basic steps to create a cluster and start some OSDs. For more details on the OSD
settings also see the <a href="/docs/rook/v1.5/ceph-cluster-crd.html">Cluster CRD</a> documentation. If you are not seeing OSDs created, see the <a href="/docs/rook/v1.5/ceph-common-issues.html">Ceph Troubleshooting Guide</a>.</p>

<p>To add more OSDs, Rook will automatically watch for new nodes and devices being added to your cluster.
If they match the filters or other settings in the <code class="language-plaintext highlighter-rouge">storage</code> section of the cluster CR, the operator
will create new OSDs.</p>

<h2 id="add-an-osd-on-a-pvc">Add an OSD on a PVC</h2>

<p>In more dynamic environments where storage can be dynamically provisioned with a raw block storage provider, the OSDs can be backed
by PVCs. See the <code class="language-plaintext highlighter-rouge">storageClassDeviceSets</code> documentation in the <a href="/docs/rook/v1.5/ceph-cluster-crd.html#storage-class-device-sets">Cluster CRD</a> topic.</p>

<p>To add more OSDs, you can either increase the <code class="language-plaintext highlighter-rouge">count</code> of the OSDs in an existing device set or you can
add more device sets to the cluster CR. The operator will then automatically create new OSDs according
to the updated cluster CR.</p>

<h2 id="remove-an-osd">Remove an OSD</h2>

<p>To remove an OSD due to a failed disk or other re-configuration, consider the following to ensure the health of the data
through the removal process:</p>
<ul>
  <li>Confirm you will have enough space on your cluster after removing your OSDs to properly handle the deletion</li>
  <li>Confirm the remaining OSDs and their placement groups (PGs) are healthy in order to handle the rebalancing of the data</li>
  <li>Do not remove too many OSDs at once</li>
  <li>Wait for rebalancing between removing multiple OSDs</li>
</ul>

<p>If all the PGs are <code class="language-plaintext highlighter-rouge">active+clean</code> and there are no warnings about being low on space, this means the data is fully replicated
and it is safe to proceed. If an OSD is failing, the PGs will not be perfectly clean and you will need to proceed anyway.</p>

<h3 id="host-based-cluster">Host-based cluster</h3>

<p>Update your CephCluster CR. Depending on your CR settings, you may need to remove the device from the list or update the device filter.
If you are using <code class="language-plaintext highlighter-rouge">useAllDevices: true</code>, no change to the CR is necessary.</p>

<p><strong>IMPORTANT: On host-based clusters, you may need to stop the Rook Operator while performing OSD
removal steps in order to prevent Rook from detecting the old OSD and trying to re-create it before
the disk is wiped or removed.</strong></p>

<p>To stop the Rook Operator, run 
<code class="language-plaintext highlighter-rouge">kubectl -n rook-ceph scale deployment rook-ceph-operator --replicas=0</code>.</p>

<p>You must perform steps below to (1) purge the OSD and either (2.a) delete the underlying data or 
(2.b)replace the disk before starting the Rook Operator again.</p>

<p>Once you have done that, you can start the Rook operator again with
<code class="language-plaintext highlighter-rouge">kubectl -n rook-ceph scale deployment rook-ceph-operator --replicas=1</code>.</p>

<h3 id="pvc-based-cluster">PVC-based cluster</h3>

<p>To reduce the storage in your cluster or remove a failed OSD on a PVC:</p>

<ol>
  <li>Shrink the number of OSDs in the <code class="language-plaintext highlighter-rouge">storageClassDeviceSet</code> in the CephCluster CR. If you have multiple device sets,
you may need to change the index of <code class="language-plaintext highlighter-rouge">0</code> in this example path.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">kubectl -n rook-ceph patch CephCluster rook-ceph --type=json -p '[{"op": "replace", "path": "/spec/storage/storageClassDeviceSets/0/count", "value":&lt;desired number&gt;}]'</code></li>
      <li>Reduce the <code class="language-plaintext highlighter-rouge">count</code> of the OSDs to the desired number. Rook will not take any action to automatically remove the extra OSD(s).</li>
    </ul>
  </li>
  <li>Identify the PVC that belongs to the OSD that is failed or otherwise being removed.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">kubectl -n rook-ceph get pvc -l ceph.rook.io/DeviceSet=&lt;deviceSet&gt;</code></li>
    </ul>
  </li>
  <li>Identify the OSD you desire to remove.
    <ul>
      <li>The OSD assigned to the PVC can be found in the labels on the PVC</li>
      <li><code class="language-plaintext highlighter-rouge">kubectl -n rook-ceph get pod -l ceph.rook.io/pvc=&lt;orphaned-pvc&gt; -o yaml | grep ceph-osd-id</code></li>
      <li>For example, this might return: <code class="language-plaintext highlighter-rouge">ceph-osd-id: "0"</code></li>
      <li>Remember the OSD ID for purging the OSD below</li>
    </ul>
  </li>
</ol>

<p>If you later increase the count in the device set, note that the operator will create PVCs with the highest index
that is not currently in use by existing OSD PVCs.</p>

<h3 id="confirm-the-osd-is-down">Confirm the OSD is down</h3>

<p>If you want to remove an unhealthy OSD, the osd pod may be in an error state such as <code class="language-plaintext highlighter-rouge">CrashLoopBackoff</code> or the <code class="language-plaintext highlighter-rouge">ceph</code> commands
in the toolbox may show which OSD is <code class="language-plaintext highlighter-rouge">down</code>. If you want to remove a healthy OSD, you should run
<code class="language-plaintext highlighter-rouge">kubectl -n rook-ceph scale deployment rook-ceph-osd-&lt;ID&gt; --replicas=0</code> and <code class="language-plaintext highlighter-rouge">ceph osd down osd.&lt;ID&gt;</code> from the toolbox.</p>

<h3 id="purge-the-osd-from-the-ceph-cluster">Purge the OSD from the Ceph cluster</h3>

<p>OSD removal can be automated with the example found in the <a href="https://github.com/rook/rook/blob/release-1.5/cluster/examples/kubernetes/ceph/osd-purge.yaml">rook-ceph-purge-osd job</a>.
In the osd-purge.yaml, change the <code class="language-plaintext highlighter-rouge">&lt;OSD-IDs&gt;</code> to the ID(s) of the OSDs you want to remove.</p>

<ol>
  <li>Run the job: <code class="language-plaintext highlighter-rouge">kubectl create -f osd-purge.yaml</code></li>
  <li>When the job is completed, review the logs to ensure success: <code class="language-plaintext highlighter-rouge">kubectl -n rook-ceph logs -l app=rook-ceph-purge-osd</code></li>
  <li>When finished, you can delete the job: <code class="language-plaintext highlighter-rouge">kubectl delete -f osd-purge.yaml</code></li>
</ol>

<p>If you want to remove OSDs by hand, continue with the following sections. However, we recommend you to use the above-mentioned job to avoid operation errors.</p>

<h3 id="purge-the-osd-manually">Purge the OSD manually</h3>

<p>If the OSD purge job fails or you need fine-grained control of the removal, here are the individual commands that can be run from the toolbox.</p>

<ol>
  <li>Mark the OSD as <code class="language-plaintext highlighter-rouge">out</code> if not already marked as such by Ceph. This signals Ceph to start moving (backfilling) the data that was on that OSD to another OSD.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ceph osd out osd.&lt;ID&gt;</code> (for example if the OSD ID is 23 this would be <code class="language-plaintext highlighter-rouge">ceph osd out osd.23</code>)</li>
    </ul>
  </li>
  <li>Wait for the data to finish backfilling to other OSDs.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ceph status</code> will indicate the backfilling is done when all of the PGs are <code class="language-plaintext highlighter-rouge">active+clean</code>. If desired, it’s safe to remove the disk after that.</li>
    </ul>
  </li>
  <li>Remove the OSD from the Ceph cluster
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ceph osd purge &lt;ID&gt; --yes-i-really-mean-it</code></li>
    </ul>
  </li>
  <li>Verify the OSD is removed from the node in the CRUSH map
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ceph osd tree</code></li>
    </ul>
  </li>
</ol>

<p>The operator can automatically remove OSD deployments that are considered “safe-to-destroy” by Ceph.
After the steps above, the OSD will be considered safe to remove since the data has all been moved
to other OSDs. But this will only be done automatically by the operator if you have this setting in the cluster CR:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>removeOSDsIfOutAndSafeToRemove: true
</code></pre></div></div>

<p>Otherwise, you will need to delete the deployment directly:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">kubectl delete deployment -n rook-ceph rook-ceph-osd-&lt;ID&gt;</code></li>
</ul>

<p>In PVC-based cluster, remove the orphaned PVC, if necessary.</p>

<h3 id="delete-the-underlying-data">Delete the underlying data</h3>

<p>If you want to clean the device where the OSD was running, see in the instructions to
wipe a disk on the <a href="/docs/rook/v1.5/ceph-teardown.html#delete-the-data-on-hosts">Cleaning up a Cluster</a> topic.</p>

<h2 id="replace-an-osd">Replace an OSD</h2>

<p>To replace a disk that has failed:</p>

<ol>
  <li>Run the steps in the previous section to <a href="#remove-an-osd">Remove an OSD</a>.</li>
  <li>Replace the physical device and verify the new device is attached.</li>
  <li>Check if your cluster CR will find the new device. If you are using <code class="language-plaintext highlighter-rouge">useAllDevices: true</code> you can skip this step.
If your cluster CR lists individual devices or uses a device filter you may need to update the CR.</li>
  <li>The operator ideally will automatically create the new OSD within a few minutes of adding the new device or updating the CR.
If you don’t see a new OSD automatically created, restart the operator (by deleting the operator pod) to trigger the OSD creation.</li>
  <li>Verify if the OSD is created on the node by running <code class="language-plaintext highlighter-rouge">ceph osd tree</code> from the toolbox.</li>
</ol>

<p>Note that the OSD might have a different ID than the previous OSD that was replaced.</p>

    </div>
  </div>
</div>

<script>
  var menu = [];
  var BASE_PATH = "";

  function add(name, url, isChild, current) {
    var item = { name: name, url: url, current: current };
    var container = menu;
    if (isChild && menu.length > 0) {
      menu[menu.length-1].children = menu[menu.length-1].children || [];
      container = menu[menu.length-1].children;
      if (current) {
        menu[menu.length-1].childCurrent = true;
      }
    }
    container.push(item);
  }

  
    add(
      "Rook",
      "/docs/rook/v1.5/",
      false,
      false
    );
  
    add(
      "Quickstart",
      "/docs/rook/v1.5/quickstart.html",
      false,
      false
    );
  
    add(
      "Cassandra",
      "/docs/rook/v1.5/cassandra.html",
      true,
      false
    );
  
    add(
      "Ceph Storage",
      "/docs/rook/v1.5/ceph-quickstart.html",
      true,
      false
    );
  
    add(
      "CockroachDB",
      "/docs/rook/v1.5/cockroachdb.html",
      true,
      false
    );
  
    add(
      "EdgeFS Data Fabric",
      "/docs/rook/v1.5/edgefs-quickstart.html",
      true,
      false
    );
  
    add(
      "Network Filesystem (NFS)",
      "/docs/rook/v1.5/nfs.html",
      true,
      false
    );
  
    add(
      "YugabyteDB",
      "/docs/rook/v1.5/yugabytedb.html",
      true,
      false
    );
  
    add(
      "Prerequisites",
      "/docs/rook/v1.5/k8s-pre-reqs.html",
      false,
      false
    );
  
    add(
      "FlexVolume Configuration",
      "/docs/rook/v1.5/flexvolume.html",
      true,
      false
    );
  
    add(
      "Ceph Storage",
      "/docs/rook/v1.5/ceph-storage.html",
      false,
      false
    );
  
    add(
      "Prerequisites",
      "/docs/rook/v1.5/ceph-prerequisites.html",
      true,
      false
    );
  
    add(
      "Admission Controller",
      "/docs/rook/v1.5/admission-controller-usage.html",
      true,
      false
    );
  
    add(
      "Examples",
      "/docs/rook/v1.5/ceph-examples.html",
      true,
      false
    );
  
    add(
      "OpenShift",
      "/docs/rook/v1.5/ceph-openshift.html",
      true,
      false
    );
  
    add(
      "Block Storage",
      "/docs/rook/v1.5/ceph-block.html",
      true,
      false
    );
  
    add(
      "Object Storage",
      "/docs/rook/v1.5/ceph-object.html",
      true,
      false
    );
  
    add(
      "Object Multisite",
      "/docs/rook/v1.5/ceph-object-multisite.html",
      true,
      false
    );
  
    add(
      "Shared Filesystem",
      "/docs/rook/v1.5/ceph-filesystem.html",
      true,
      false
    );
  
    add(
      "Ceph Dashboard",
      "/docs/rook/v1.5/ceph-dashboard.html",
      true,
      false
    );
  
    add(
      "Prometheus Monitoring",
      "/docs/rook/v1.5/ceph-monitoring.html",
      true,
      false
    );
  
    add(
      "Cluster CRD",
      "/docs/rook/v1.5/ceph-cluster-crd.html",
      true,
      false
    );
  
    add(
      "Block Pool CRD",
      "/docs/rook/v1.5/ceph-pool-crd.html",
      true,
      false
    );
  
    add(
      "Object Store CRD",
      "/docs/rook/v1.5/ceph-object-store-crd.html",
      true,
      false
    );
  
    add(
      "Object Multisite CRDs",
      "/docs/rook/v1.5/ceph-object-multisite-crd.html",
      true,
      false
    );
  
    add(
      "Object Bucket Claim",
      "/docs/rook/v1.5/ceph-object-bucket-claim.html",
      true,
      false
    );
  
    add(
      "Object Store User CRD",
      "/docs/rook/v1.5/ceph-object-store-user-crd.html",
      true,
      false
    );
  
    add(
      "Shared Filesystem CRD",
      "/docs/rook/v1.5/ceph-filesystem-crd.html",
      true,
      false
    );
  
    add(
      "NFS CRD",
      "/docs/rook/v1.5/ceph-nfs-crd.html",
      true,
      false
    );
  
    add(
      "Ceph CSI",
      "/docs/rook/v1.5/ceph-csi-drivers.html",
      true,
      false
    );
  
    add(
      "Volume clone",
      "/docs/rook/v1.5/ceph-csi-volume-clone.html",
      true,
      false
    );
  
    add(
      "Snapshots",
      "/docs/rook/v1.5/ceph-csi-snapshot.html",
      true,
      false
    );
  
    add(
      "RBDMirror CRD",
      "/docs/rook/v1.5/ceph-rbd-mirror-crd.html",
      true,
      false
    );
  
    add(
      "Client CRD",
      "/docs/rook/v1.5/ceph-client-crd.html",
      true,
      false
    );
  
    add(
      "Configuration",
      "/docs/rook/v1.5/ceph-configuration.html",
      true,
      false
    );
  
    add(
      "Upgrades",
      "/docs/rook/v1.5/ceph-upgrade.html",
      true,
      false
    );
  
    add(
      "Cleanup",
      "/docs/rook/v1.5/ceph-teardown.html",
      true,
      false
    );
  
    add(
      "EdgeFS Data Fabric",
      "/docs/rook/v1.5/edgefs-storage.html",
      false,
      false
    );
  
    add(
      "Cluster CRD",
      "/docs/rook/v1.5/edgefs-cluster-crd.html",
      true,
      false
    );
  
    add(
      "ISGW Link CRD",
      "/docs/rook/v1.5/edgefs-isgw-crd.html",
      true,
      false
    );
  
    add(
      "Scale-Out NFS CRD",
      "/docs/rook/v1.5/edgefs-nfs-crd.html",
      true,
      false
    );
  
    add(
      "Scale-Out SMB CRD",
      "/docs/rook/v1.5/edgefs-smb-crd.html",
      true,
      false
    );
  
    add(
      "Edge-X S3 CRD",
      "/docs/rook/v1.5/edgefs-s3x-crd.html",
      true,
      false
    );
  
    add(
      "AWS S3 CRD",
      "/docs/rook/v1.5/edgefs-s3-crd.html",
      true,
      false
    );
  
    add(
      "OpenStack/SWIFT CRD",
      "/docs/rook/v1.5/edgefs-swift-crd.html",
      true,
      false
    );
  
    add(
      "iSCSI Target CRD",
      "/docs/rook/v1.5/edgefs-iscsi-crd.html",
      true,
      false
    );
  
    add(
      "CSI driver",
      "/docs/rook/v1.5/edgefs-csi.html",
      true,
      false
    );
  
    add(
      "Monitoring",
      "/docs/rook/v1.5/edgefs-monitoring.html",
      true,
      false
    );
  
    add(
      "User Interface",
      "/docs/rook/v1.5/edgefs-ui.html",
      true,
      false
    );
  
    add(
      "VDEV Management",
      "/docs/rook/v1.5/edgefs-vdev-management.html",
      true,
      false
    );
  
    add(
      "Upgrade",
      "/docs/rook/v1.5/edgefs-upgrade.html",
      true,
      false
    );
  
    add(
      "Cassandra Cluster CRD",
      "/docs/rook/v1.5/cassandra-cluster-crd.html",
      false,
      false
    );
  
    add(
      "Upgrade",
      "/docs/rook/v1.5/cassandra-operator-upgrade.html",
      true,
      false
    );
  
    add(
      "CockroachDB Cluster CRD",
      "/docs/rook/v1.5/cockroachdb-cluster-crd.html",
      false,
      false
    );
  
    add(
      "NFS Server CRD",
      "/docs/rook/v1.5/nfs-crd.html",
      false,
      false
    );
  
    add(
      "YugabyteDB Cluster CRD",
      "/docs/rook/v1.5/yugabytedb-cluster-crd.html",
      false,
      false
    );
  
    add(
      "Helm Charts",
      "/docs/rook/v1.5/helm.html",
      false,
      false
    );
  
    add(
      "Ceph Operator",
      "/docs/rook/v1.5/helm-operator.html",
      true,
      false
    );
  
    add(
      "Common Issues",
      "/docs/rook/v1.5/common-issues.html",
      false,
      false
    );
  
    add(
      "Ceph Tools",
      "/docs/rook/v1.5/ceph-tools.html",
      false,
      false
    );
  
    add(
      "Toolbox",
      "/docs/rook/v1.5/ceph-toolbox.html",
      true,
      false
    );
  
    add(
      "Common Issues",
      "/docs/rook/v1.5/ceph-common-issues.html",
      true,
      false
    );
  
    add(
      "CSI Common Issues",
      "/docs/rook/v1.5/ceph-csi-troubleshooting.html",
      true,
      false
    );
  
    add(
      "Monitor Health",
      "/docs/rook/v1.5/ceph-mon-health.html",
      true,
      false
    );
  
    add(
      "OSD Management",
      "/docs/rook/v1.5/ceph-osd-mgmt.html",
      true,
      true
    );
  
    add(
      "Direct Tools",
      "/docs/rook/v1.5/direct-tools.html",
      true,
      false
    );
  
    add(
      "Advanced Configuration",
      "/docs/rook/v1.5/ceph-advanced-configuration.html",
      true,
      false
    );
  
    add(
      "OpenShift Common Issues",
      "/docs/rook/v1.5/ceph-openshift-issues.html",
      true,
      false
    );
  
    add(
      "Disaster Recovery",
      "/docs/rook/v1.5/ceph-disaster-recovery.html",
      true,
      false
    );
  
    add(
      "Tectonic Configuration",
      "/docs/rook/v1.5/tectonic.html",
      true,
      false
    );
  
    add(
      "Contributing",
      "/docs/rook/v1.5/development-flow.html",
      false,
      false
    );
  
    add(
      "Storage Providers",
      "/docs/rook/v1.5/storage-providers.html",
      true,
      false
    );
  
    add(
      "Multi-Node Test Environment",
      "/docs/rook/v1.5/development-environment.html",
      true,
      false
    );
  

  function getEntry(item) {
    var itemDom = document.createElement('li');

    if (item.current) {
      itemDom.innerHTML = item.name;
      itemDom.classList.add('current');
    } else {
      itemDom.innerHTML = '<a href="' + item.url + '">' + item.name + '</a>';
    }

    return itemDom;
  }

  // Flush css changes as explained in: https://stackoverflow.com/a/34726346
  // and more completely: https://stackoverflow.com/a/6956049
  function flushCss(element) {
    element.offsetHeight;
  }

  function addArrow(itemDom) {
    var MAIN_ITEM_HEIGHT = 24;
    var BOTTOM_PADDING = 20;
    var arrowDom = document.createElement('a');
    arrowDom.classList.add('arrow');
    arrowDom.innerHTML = '<img src="' + BASE_PATH + '/images/arrow.svg" />';
    arrowDom.onclick = function(itemDom) {
      return function () {
        // Calculated full height of the opened list
        var fullHeight = MAIN_ITEM_HEIGHT + BOTTOM_PADDING + itemDom.lastChild.clientHeight + 'px';

        itemDom.classList.toggle('open');

        if (itemDom.classList.contains('open')) {
          itemDom.style.height = fullHeight;
        } else {
          // If the list height is auto we have to set it to fullHeight
          // without tranistion before we shrink it to collapsed height
          if (itemDom.style.height === 'auto') {
            itemDom.style.transition = 'none';
            itemDom.style.height = fullHeight;
            flushCss(itemDom);
            itemDom.style.transition = '';
          }
          itemDom.style.height = MAIN_ITEM_HEIGHT + 'px';
        }

        return false;
      };
    }(itemDom);
    itemDom.appendChild(arrowDom);

    if ((item.current && item.children) || item.childCurrent) {
      itemDom.classList.add('open');
      itemDom.style.height = 'auto';
    } else {
      itemDom.style.height = MAIN_ITEM_HEIGHT + 'px';
    }
  }

  var menuDom = document.getElementById('docs-ul');
  for (var i = 0; i < menu.length; i++) {
    var item = menu[i];
    var itemDom = getEntry(item);

    if (item.childCurrent) {
      itemDom.classList.add('childCurrent');
    }

    if (item.children) {
      addArrow(itemDom);
      itemDom.classList.add('children');
      var children = document.createElement('ul');
      for (var j = 0; j < item.children.length; j++) {
        children.appendChild(getEntry(item.children[j]));
      }
      itemDom.appendChild(children);
    }
    menuDom.appendChild(itemDom);
  }
</script>
</div></main>
    <footer id="footer" aria-label="Footer">
  <div class="top">
    <a href="//www.cncf.io">
      <img
        class="cncf"
        src="/images/cncf.png"
        srcset="/images/cncf@2x.png 2x, /images/cncf@3x.png 3x" />
    </a>
    <p>We are a Cloud Native Computing Foundation graduated project.</p>
  </div>
  <div class="middle">
    <div class="grid-center">
      <div class="col_sm-12">
        <span>Getting Started</span>
        <a href="//github.com/rook/rook">GitHub</a>
        <a href="/docs/rook/v1.9/">Documentation</a>
        <a href="//github.com/rook/rook/blob/master/CONTRIBUTING.md#how-to-contribute">How to Contribute</a>
      </div>
      <div class="col_sm-12">
        <span>Community</span>
        <a href="//slack.rook.io/">Slack</a>
        <a href="//twitter.com/rook_io">Twitter</a>
        <a href="//groups.google.com/forum/#!forum/rook-dev">Forum</a>
        <a href="//blog.rook.io/">Blog</a>
      </div>
      <div class="col_sm-12">
        <span>Contact</span>
        <a href="mailto:cncf-rook-info@lists.cncf.io">Email</a>
        <a href="//github.com/rook/rook/issues">Feature request</a>
      </div>
      <div class="col_sm-12">
        <span>Top Contributors</span>
        <a href="//cloudical.io/">Cloudical</a>
        <a href="//cybozu.com">Cybozu, Inc</a>
        <a href="//www.redhat.com">Red Hat</a>
        <a href="//www.suse.com/">SUSE</a>
        <a href="//upbound.io">Upbound</a>
      </div>
    </div>
  </div>
  <div class="bottom">
    <div class="grid-center">
      <div class="col-8">
        <a class="logo" href="/">
          <img src="/images/rook-logo-small.svg" alt="rook.io" />
        </a>
        <p>
          &#169; Rook Authors 2022. Documentation distributed under
          <a href="https://creativecommons.org/licenses/by/4.0">CC-BY-4.0</a>.
        </p>
        <p>
          &#169; 2022 The Linux Foundation. All rights reserved. The Linux Foundation has
          registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our
          <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> page.
        </p>
      </div>
    </div>
  </div>
</footer>


  <script src="/js/anchor.js"></script>
  <script>
    anchors.options = {
      placement: 'right',
      icon: '#',
    }

    document.addEventListener('DOMContentLoaded', function(event) {
      anchors.add('.docs-text h1, .docs-text h2, .docs-text h3, .docs-text h4, .docs-text h5, .docs-text h6');
    });
  </script>




    
  </body>
</html>
