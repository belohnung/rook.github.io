












































<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    
    <meta name="robots" content="noindex">
    

    <title>Ceph Docs</title>

    <link rel="canonical" href="https://rook.io/docs/rook/v1.1/development-flow.html">

    <link rel="icon" href="/favicon.ico" />
<link rel="icon" type="image/png" href="/images/favicon_16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="/images/favicon_32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/images/favicon_48x48.png" sizes="48x48" />
<link rel="icon" type="image/png" href="/images/favicon_192x192.png" sizes="192x192" />


    <link href="//fonts.googleapis.com/css?family=Montserrat:500|Open+Sans:300,400,600" rel="stylesheet">
    
    <link rel="stylesheet" href="/css/main.css">
    
      <link rel="stylesheet" href="/css/docs.css" />
    
  </head>
  <body>
    <nav id="navigation" aria-label="Navigation">
  <div>
    <div class="logo">
      <a href="/"><img src="/images/rook-logo.svg"/></a>
    </div>
    <div
      class="hamburger-controls"
      onclick="if (document.body.classList.contains('menu-open')) { document.body.classList.remove('menu-open') } else { document.body.classList.add('menu-open') }; return false;">
      <span></span> <span></span> <span></span>
    </div>
    <ul class="links">
      <li class="dropdown">
        <a role="button" href="javascript:void(0)">Documentation</a>
        <div class="dropdown-content">
          <a href="/docs/rook/v1.9/">Ceph</a>
          <a href="/docs/cassandra/v1.7/">Cassandra</a>
          <a href="/docs/nfs/v1.7/">NFS</a>
        </div>
      <li class="dropdown">
        <a role="button" href="javascript:void(0)">Community</a>
        <div class="dropdown-content">
          <a href="//github.com/rook/rook">GitHub</a>
          <a href="//slack.rook.io/">Slack</a>
          <a href="//groups.google.com/forum/#!forum/rook-dev">Forum</a>
          <a href="//twitter.com/rook_io">Twitter</a>
        </div>
      </li>
      <li><a href="//blog.rook.io/">Blog</a></li>
      <li><a class="button small" href="/docs/rook/v1.9/quickstart.html">Get Started</a></li>
    </ul>
  </div>
</nav>

    <main id="content" aria-label="Content"><div>



















<section class="docs-header">
  <h1>Ceph</h1>
  <div class="versions">
    <a role="button" href="javascript:void(0)">Rook Ceph v1.1</a>
    <div class="versions-dropdown-content">
      
        <a href="/docs/rook/v1.9/development-flow.html">Rook Ceph v1.9</a>
      
        <a href="/docs/rook/v1.8/development-flow.html">Rook Ceph v1.8</a>
      
        <a href="/docs/rook/v1.7/development-flow.html">Rook Ceph v1.7</a>
      
        <a href="/docs/rook/v1.6/development-flow.html">Rook Ceph v1.6</a>
      
        <a href="/docs/rook/v1.5/development-flow.html">Rook Ceph v1.5</a>
      
        <a href="/docs/rook/v1.4/development-flow.html">Rook Ceph v1.4</a>
      
        <a href="/docs/rook/v1.3/development-flow.html">Rook Ceph v1.3</a>
      
        <a href="/docs/rook/v1.2/development-flow.html">Rook Ceph v1.2</a>
      
        <a href="/docs/rook/v1.1/development-flow.html" class="active">Rook Ceph v1.1</a>
      
        <a href="/docs/rook/v1.0/development-flow.html">Rook Ceph v1.0</a>
      
        <a href="/docs/rook/v0.9/development-flow.html">Rook Ceph v0.9</a>
      
        <a href="/docs/rook/v0.8/development-flow.html">Rook Ceph v0.8</a>
      
        <a href="/docs/rook/v0.7/development-flow.html">Rook Ceph v0.7</a>
      
        <a href="/docs/rook/v0.6/development-flow.html">Rook Ceph v0.6</a>
      
        <a href="/docs/rook/v0.5/development-flow.html">Rook Ceph v0.5</a>
      
        <a href="/docs/rook/latest/development-flow.html">Rook Ceph latest</a>
      
    </div>
    <img src="/images/arrow.svg" />
  </div>
</section>
<div class="page">
  <div class="docs-menu">
      <ul id="docs-ul"></ul>
  </div>
  <div class="docs-content">
    <div class="docs-actions">
      <a id="edit" href="https://github.com/rook/rook/blob/master/Documentation/development-flow.md">Edit on GitHub</a>
    </div>
    
      <div class="alert old">
        <p><b>PLEASE NOTE</b>: This document applies to v1.1 version and not to the latest <strong>stable</strong> release v1.9</p>
      </div>
    
    <div class="docs-text">
      <h1 id="contributing">Contributing</h1>

<p>Thank you for your time and effort to help us improve Rook! Here are a few steps to get started. If you have any questions,
don’t hesitate to reach out to us on our <a href="https://Rook-io.slack.com">Slack</a> dev channel.</p>

<h2 id="prerequisites">Prerequisites</h2>

<ol>
  <li><a href="https://golang.org/dl/">GO 1.11</a> or greater installed</li>
  <li>Git client installed</li>
  <li>Github account</li>
</ol>

<h2 id="initial-setup">Initial Setup</h2>

<h3 id="create-a-fork">Create a Fork</h3>

<p>From your browser navigate to <a href="http://github.com/rook/rook">http://github.com/rook/rook</a> and click the “Fork” button.</p>

<h3 id="clone-your-fork">Clone Your Fork</h3>

<p>Open a console window and do the following;</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create the rook repo path</span>
<span class="nb">mkdir</span> <span class="nt">-p</span> <span class="nv">$GOPATH</span>/src/github.com/rook

<span class="c"># Navigate to the local repo path and clone your fork</span>
<span class="nb">cd</span> <span class="nv">$GOPATH</span>/src/github.com/rook

<span class="c"># Clone your fork, where &lt;user&gt; is your GitHub account name</span>
git clone https://github.com/&lt;user&gt;/rook.git
<span class="nb">cd </span>rook
</code></pre></div></div>

<h3 id="build">Build</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># build all rook storage providers</span>
make

<span class="c"># build a single storage provider, where the IMAGES can be a subdirectory of the "images" folder:</span>
<span class="c"># "cassandra", "ceph", "cockroachdb", "edgefs", "minio", or "nfs"</span>
make <span class="nv">IMAGES</span><span class="o">=</span><span class="s2">"cassandra"</span> build

<span class="c"># multiple storage providers can also be built</span>
make <span class="nv">IMAGES</span><span class="o">=</span><span class="s2">"cassandra ceph"</span> build
</code></pre></div></div>

<h3 id="development-settings">Development Settings</h3>

<p>To provide consistent whitespace and other formatting in your <code class="language-plaintext highlighter-rouge">go</code> and other source files, it is recommended you apply
the following settings in your IDE:</p>
<ul>
  <li>Format with the <code class="language-plaintext highlighter-rouge">goreturns</code> tool</li>
  <li>Trim trailing whitespace</li>
</ul>

<p>For example, in VS Code this translates to the following settings:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"editor.formatOnSave"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"go.buildOnSave"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"go.formatTool"</span><span class="p">:</span><span class="w"> </span><span class="s2">"goreturns"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"files.trimTrailingWhitespace"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"files.insertFinalNewline"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"files.trimFinalNewlines"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="add-upstream-remote">Add Upstream Remote</h3>

<p>First you will need to add the upstream remote to your local git:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Add 'upstream' to the list of remotes</span>
git remote add upstream https://github.com/rook/rook.git

<span class="c"># Verify the remote was added</span>
git remote <span class="nt">-v</span>
</code></pre></div></div>
<p>Now you should have at least <code class="language-plaintext highlighter-rouge">origin</code> and <code class="language-plaintext highlighter-rouge">upstream</code> remotes. You can also add other remotes to collaborate with other contributors.</p>

<h2 id="layout">Layout</h2>

<p>A source code layout is shown below, annotated with comments about the use of each important directory:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rook
├── build                         # build makefiles and logic to build, publish and release all Rook artifacts
├── cluster
│   ├── charts                    # Helm charts
│   │   └── rook-ceph
│   └── examples                  # Sample yaml files for Rook cluster
│
├── cmd                           # Binaries with main entrypoint
│   ├── rook                      # Main command entry points for operators and daemons
│   └── rookflex                  # Main command entry points for Rook flexvolume driver
│
├── design                        # Design documents for the various components of the Rook project
├── Documentation                 # Rook project Documentation
├── images                        # Dockerfiles to build images for all supported storage providers
│
├── pkg
│   ├── apis
│   │   ├── ceph.rook.io          # ceph specific specs for cluster, file, object
│   │   │   ├── v1
│   │   ├── cockroachdb.rook.io   # cockroachdb specific specs
│   │   │   └── v1alpha1
│   │   ├── minio.rook.io         # minio specific specs for cluster, object
│   │   │   └── v1alpha1
│   │   ├── nfs.rook.io           # nfs server specific specs
│   │   │   └── v1alpha1
│   │   └── rook.io               # rook.io API group of common types
│   │       └── v1alpha2
│   ├── client                    # auto-generated strongly typed client code to access Rook APIs
│   ├── clusterd
│   ├── daemon                    # daemons for each storage provider
│   │   ├── ceph
│   │   └── discover
│   ├── operator                  # all orchestration logic and custom controllers for each storage provider
│   │   ├── ceph
│   │   ├── cockroachdb
│   │   ├── discover
│   │   ├── k8sutil
│   │   ├── minio
│   │   ├── nfs
│   │   └── test
│   ├── test
│   ├── util
│   └── version
└── tests                         # integration tests
    ├── framework                 # the Rook testing framework
    │   ├── clients               # test clients used to consume Rook resources during integration tests
    │   ├── installer             # installs Rook and its supported storage providers into integration tests environments
    │   └── utils
    ├── integration               # all test cases that will be invoked during integration testing
    ├── longhaul                  # longhaul tests
    ├── pipeline                  # Jenkins pipeline
    └── scripts                   # scripts for setting up integration and manual testing environments

</code></pre></div></div>

<h2 id="development">Development</h2>

<p>To add a feature or to make a bug fix, you will need to create a branch in your fork and then submit a pull request (PR) from the branch.</p>

<h3 id="design-document">Design Document</h3>

<p>For new features of significant scope and complexity, a design document is recommended before work begins on the implementation.
For smaller, straightforward features and bug fixes, there is no need for a design document.
Authoring a design document for big features has many advantages:</p>

<ul>
  <li>Helps flesh out the approach by forcing the author to think critically about the feature and can identify potential issues early on</li>
  <li>Gets agreement amongst the community before code is written that could be wasted effort in the wrong direction</li>
  <li>Serves as an artifact of the architecture that is easier to read for visitors to the project than just the code by itself</li>
</ul>

<p>Note that writing code to prototype the feature while working on the design may be very useful to help flesh out the approach.</p>

<p>A design document should be written as a markdown file in the <a href="/design">design folder</a>.
You will see many examples of previous design documents in that folder.
Submit a pull request for the design to be discussed and approved by the community before being merged into master, just like any other change to the repository.</p>

<p>An issue should be opened to track the work of authoring and completing the design document.
This issue is in addition to the issue that is tracking the implementation of the feature.
The <a href="https://github.com/rook/rook/labels/design">design label</a> should be assigned to the issue to denote it as such.</p>

<h3 id="create-a-branch">Create a Branch</h3>

<p>From a console, create a new branch based on your fork and start working on it:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Ensure all your remotes are up to date with the latest</span>
git fetch <span class="nt">--all</span>

<span class="c"># Create a new branch that is based off upstream master.  Give it a simple, but descriptive name.</span>
<span class="c"># Generally it will be two to three words separated by dashes and without numbers.</span>
git checkout <span class="nt">-b</span> feature-name upstream/master
</code></pre></div></div>

<p>Now you are ready to make the changes and commit to your branch.</p>

<h3 id="updating-your-fork">Updating Your Fork</h3>

<p>During the development lifecycle, you will need to keep up-to-date with the latest upstream master. As others on the team push changes, you will need to <code class="language-plaintext highlighter-rouge">rebase</code> your commits on top of the latest. This avoids unnecessary merge commits and keeps the commit history clean.</p>

<p>Whenever you need to update your local repository, you never want to merge. You <strong>always</strong> will rebase. Otherwise you will end up with merge commits in the git history. If you have any modified files, you will first have to stash them (<code class="language-plaintext highlighter-rouge">git stash save -u "&lt;some description&gt;"</code>).</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git fetch <span class="nt">--all</span>
git rebase upstream/master
</code></pre></div></div>

<p>Rebasing is a very powerful feature of Git. You need to understand how it works or else you will risk losing your work. Read about it in the <a href="https://git-scm.com/docs/git-rebase">Git documentation</a>, it will be well worth it. In a nutshell, rebasing does the following:</p>
<ul>
  <li>“Unwinds” your local commits. Your local commits are removed temporarily from the history.</li>
  <li>The latest changes from upstream are added to the history</li>
  <li>Your local commits are re-applied one by one</li>
  <li>If there are merge conflicts, you will be prompted to fix them before continuing. Read the output closely. It will tell you how to complete the rebase.</li>
  <li>When done rebasing, you will see all of your commits in the history.</li>
</ul>

<h2 id="submitting-a-pull-request">Submitting a Pull Request</h2>

<p>Once you have implemented the feature or bug fix in your branch, you will open a PR to the upstream rook repo. Before opening the PR ensure you have added unit tests, are passing the integration tests, cleaned your commit history, and have rebased on the latest upstream.</p>

<p>In order to open a pull request (PR) it is required to be up to date with the latest changes upstream. If other commits are pushed upstream before your PR is merged, you will also need to rebase again before it will be merged.</p>

<h3 id="regression-testing">Regression Testing</h3>

<p>All pull requests must pass the unit and integration tests before they can be merged. These tests automatically
run as a part of the build process. The results of these tests along with code reviews and other criteria determine whether
your request will be accepted into the <code class="language-plaintext highlighter-rouge">rook/rook</code> repo. It is prudent to run all tests locally on your development box prior to submitting a pull request to the <code class="language-plaintext highlighter-rouge">rook/rook</code> repo.</p>

<h4 id="unit-tests">Unit Tests</h4>

<p>From the root of your local Rook repo execute the following to run all of the unit tests:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make <span class="nb">test</span>
</code></pre></div></div>

<p>Unit tests for individual packages can be run with the standard <code class="language-plaintext highlighter-rouge">go test</code> command. Before you open a PR, confirm that you have sufficient code coverage on the packages that you changed. View the <code class="language-plaintext highlighter-rouge">coverage.html</code> in a browser to inspect your new code.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>go <span class="nb">test</span> <span class="nt">-coverprofile</span><span class="o">=</span>coverage.out
go tool cover <span class="nt">-html</span><span class="o">=</span>coverage.out <span class="nt">-o</span> coverage.html
</code></pre></div></div>

<h4 id="running-the-integration-tests">Running the Integration Tests</h4>
<p>For instructions on how to execute the end to end smoke test suite,
follow the <a href="https://github.com/rook/rook/blob/master/tests/README.md">test instructions</a>.</p>

<h3 id="commit-history">Commit History</h3>

<p>To prepare your branch to open a PR, you will need to have the minimal number of logical commits so we can maintain
a clean commit history. Most commonly a PR will include a single commit where all changes are squashed, although
sometimes there will be multiple logical commits.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Inspect your commit history to determine if you need to squash commits</span>
git log

<span class="c"># Rebase the commits and edit, squash, or even reorder them as you determine will keep the history clean.</span>
<span class="c"># In this example, the last 5 commits will be opened in the git rebase tool.</span>
git rebase <span class="nt">-i</span> HEAD~5
</code></pre></div></div>

<p>Once your commit history is clean, ensure you have based on the <a href="#Updating-your-fork">latest upstream</a> before you open the PR.</p>

<h3 id="submitting">Submitting</h3>

<p>Go to the <a href="https://www.github.com/rook/rook">Rook github</a> to open the PR. If you have pushed recently, you should see an obvious link to open the PR. If you have not pushed recently, go to the Pull Request tab and select your fork and branch for the PR.</p>

<p>After the PR is open, you can make changes simply by pushing new commits. Your PR will track the changes in your fork and update automatically.</p>

<h3 id="backport-a-fix-to-a-release-branch">Backport a Fix to a Release Branch</h3>

<h4 id="manual-flow">Manual flow</h4>

<p>The flow for getting a fix into a release branch is to first make the commit to master following the process outlined above.
After the commit is in master, you’ll need to cherry-pick the commit to the intended release branch.
You can do this by first creating a local branch that is based off the release branch, for example:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">git fetch --all
git checkout -b backport-my-fix upstream/release-0.6
</span></code></pre></div></div>

<p>Then go ahead and cherry-pick the commit using the hash of the commit itself, <strong>not</strong> the merge commit hash:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">git cherry-pick -x 099cc27b73a8d77e0504831f374a7e117ad0a2e4
</span></code></pre></div></div>

<p>This will immediately create a cherry-picked commit with a nice message saying where the commit was cherry-picked from.
Now go ahead and push to your origin:</p>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">git push origin HEAD
</span></code></pre></div></div>

<h4 id="automated-flow">Automated flow</h4>

<p>You will find a script at <code class="language-plaintext highlighter-rouge">contrib/backport_to_stable_branch.sh</code> at the root of the Rook repository.
Execute it and it will do the necessary things and will push the backport branch.
Then go on the Rook Github web page and create your pull request.</p>

<h4 id="create-the-backport-pull-request">Create the backport pull request</h4>

<p>The last step is to open a PR with the base being the intended release branch.
If you don’t know how to do this, <a href="https://help.github.com/en/articles/creating-a-pull-request#changing-the-branch-range-and-destination-repository">read Github documentation on changing the base branch range</a>.
Once the PR is approved and merged, then your backported change will be available in the next release.</p>

<h2 id="debugging-operators-locally">Debugging operators locally</h2>

<p>Operators are meant to be run inside a Kubernetes cluster. However, this makes it harder to use debugging tools and slows down the developer cycle of edit-build-test since testing requires to build a container image, push to the cluster, restart the pods, get logs, etc.</p>

<p>A common operator developer practice is to run the operator locally on the developer machine in order to leverage the developer tools and comfort.</p>

<p>In order to support this external operator mode, rook detects if the operator is running outside of the cluster (using standard cluster env) and changes the behavior as follows:</p>
<ul>
  <li>Connecting to Kubernetes API will load the config from the user <code class="language-plaintext highlighter-rouge">~/.kube/config</code>.</li>
  <li>Instead of the default <a href="../pkg/util/exec/exec.go">CommandExecutor</a> this mode uses a <a href="../pkg/util/exec/translate_exec.go">TranslateCommandExecutor</a> that executes every command issued by the operator to run as a Kubernetes job inside the cluster, so that any tools that the operator needs from its image can be called. For example, in cockroachdb</li>
</ul>

<h3 id="building-locally">Building locally</h3>

<p>Building a single rook binary for all operators:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make GO_STATIC_PACKAGES=github.com/rook/rook/cmd/rook go.build
</code></pre></div></div>

<p>Note: the binary output location is <code class="language-plaintext highlighter-rouge">_output/bin/linux_amd64/rook</code> on linux, and <code class="language-plaintext highlighter-rouge">_output/bin/darwin_amd64/rook</code> on mac.</p>

<h3 id="running-locally">Running locally</h3>

<p>The command-line flag: <code class="language-plaintext highlighter-rouge">--operator-image &lt;image&gt;</code> should be used to allow running outside of a pod since some operators read the image from the pod. This is a pattern where the operator pod is based on the image of the actual storage provider image (currently used by ceph, edgefs, cockroachdb, minio). The image url should be passed manually (for now) to match the operator’s Dockerfile <code class="language-plaintext highlighter-rouge">FROM</code> statement.</p>

<p>The next sections describe the supported operators and their notes.</p>

<h3 id="cockroachdb">CockroachDB:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>_output/bin/darwin_amd64/rook cockroachdb operator --operator-image cockroachdb/cockroach:v2.0.2
</code></pre></div></div>

<ul>
  <li>Set <code class="language-plaintext highlighter-rouge">--operator-image</code> to the base image of <a href="../images/cockroachdb/Dockerfile#L15">cockroachdb Dockerfile</a></li>
  <li>The execution of <code class="language-plaintext highlighter-rouge">/cockroach/cockroach init</code> in <a href="../pkg/operator/cockroachdb/controller.go#L490">initCluster()</a> runs in a kubernetes job to complete the clusterization of its pods.</li>
</ul>

<h3 id="minio">Minio:</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>_output/bin/darwin_amd64/rook minio operator --operator-image minio/minio:RELEASE.2019-04-23T23-50-36Z
</code></pre></div></div>

<ul>
  <li>Set <code class="language-plaintext highlighter-rouge">--operator-image</code> to the base image of <a href="../images/minio/Dockerfile#L15">minio Dockerfile</a></li>
</ul>

    </div>
  </div>
</div>

<script>
  var menu = [];
  var BASE_PATH = "";

  function add(name, url, isChild, current) {
    var item = { name: name, url: url, current: current };
    var container = menu;
    if (isChild && menu.length > 0) {
      menu[menu.length-1].children = menu[menu.length-1].children || [];
      container = menu[menu.length-1].children;
      if (current) {
        menu[menu.length-1].childCurrent = true;
      }
    }
    container.push(item);
  }

  
    add(
      "Rook",
      "/docs/rook/v1.1/",
      false,
      false
    );
  
    add(
      "Quickstart",
      "/docs/rook/v1.1/quickstart-toc.html",
      false,
      false
    );
  
    add(
      "Cassandra",
      "/docs/rook/v1.1/cassandra.html",
      true,
      false
    );
  
    add(
      "Ceph Storage",
      "/docs/rook/v1.1/ceph-quickstart.html",
      true,
      false
    );
  
    add(
      "CockroachDB",
      "/docs/rook/v1.1/cockroachdb.html",
      true,
      false
    );
  
    add(
      "EdgeFS Geo-Transparent Storage",
      "/docs/rook/v1.1/edgefs-quickstart.html",
      true,
      false
    );
  
    add(
      "Minio Object Store",
      "/docs/rook/v1.1/minio-object-store.html",
      true,
      false
    );
  
    add(
      "Network File System (NFS)",
      "/docs/rook/v1.1/nfs.html",
      true,
      false
    );
  
    add(
      "YugabyteDB",
      "/docs/rook/v1.1/yugabytedb.html",
      true,
      false
    );
  
    add(
      "Prerequisites",
      "/docs/rook/v1.1/k8s-pre-reqs.html",
      false,
      false
    );
  
    add(
      "FlexVolume Configuration",
      "/docs/rook/v1.1/flexvolume.html",
      true,
      false
    );
  
    add(
      "Pod Security Policies",
      "/docs/rook/v1.1/psp.html",
      true,
      false
    );
  
    add(
      "Tectonic Bare Metal",
      "/docs/rook/v1.1/tectonic.html",
      true,
      false
    );
  
    add(
      "OpenShift",
      "/docs/rook/v1.1/openshift.html",
      true,
      false
    );
  
    add(
      "Ceph Storage",
      "/docs/rook/v1.1/ceph-storage.html",
      false,
      false
    );
  
    add(
      "Examples",
      "/docs/rook/v1.1/ceph-examples.html",
      true,
      false
    );
  
    add(
      "Block Storage",
      "/docs/rook/v1.1/ceph-block.html",
      true,
      false
    );
  
    add(
      "Object Storage",
      "/docs/rook/v1.1/ceph-object.html",
      true,
      false
    );
  
    add(
      "Shared File System",
      "/docs/rook/v1.1/ceph-filesystem.html",
      true,
      false
    );
  
    add(
      "Dashboard",
      "/docs/rook/v1.1/ceph-dashboard.html",
      true,
      false
    );
  
    add(
      "Monitoring",
      "/docs/rook/v1.1/ceph-monitoring.html",
      true,
      false
    );
  
    add(
      "Cluster CRD",
      "/docs/rook/v1.1/ceph-cluster-crd.html",
      true,
      false
    );
  
    add(
      "Block Pool CRD",
      "/docs/rook/v1.1/ceph-pool-crd.html",
      true,
      false
    );
  
    add(
      "Object Store CRD",
      "/docs/rook/v1.1/ceph-object-store-crd.html",
      true,
      false
    );
  
    add(
      "Object Bucket Claim",
      "/docs/rook/v1.1/ceph-object-bucket-claim.html",
      true,
      false
    );
  
    add(
      "Object Store User CRD",
      "/docs/rook/v1.1/ceph-object-store-user-crd.html",
      true,
      false
    );
  
    add(
      "Shared File System CRD",
      "/docs/rook/v1.1/ceph-filesystem-crd.html",
      true,
      false
    );
  
    add(
      "NFS CRD",
      "/docs/rook/v1.1/ceph-nfs-crd.html",
      true,
      false
    );
  
    add(
      "Ceph CSI",
      "/docs/rook/v1.1/ceph-csi-drivers.html",
      true,
      false
    );
  
    add(
      "Configuration",
      "/docs/rook/v1.1/ceph-configuration.html",
      true,
      false
    );
  
    add(
      "Upgrades",
      "/docs/rook/v1.1/ceph-upgrade.html",
      true,
      false
    );
  
    add(
      "Cleanup",
      "/docs/rook/v1.1/ceph-teardown.html",
      true,
      false
    );
  
    add(
      "EdgeFS Storage",
      "/docs/rook/v1.1/edgefs-storage.html",
      false,
      false
    );
  
    add(
      "Cluster CRD",
      "/docs/rook/v1.1/edgefs-cluster-crd.html",
      true,
      false
    );
  
    add(
      "ISGW Link CRD",
      "/docs/rook/v1.1/edgefs-isgw-crd.html",
      true,
      false
    );
  
    add(
      "Scale-Out NFS CRD",
      "/docs/rook/v1.1/edgefs-nfs-crd.html",
      true,
      false
    );
  
    add(
      "Edge-X S3 CRD",
      "/docs/rook/v1.1/edgefs-s3x-crd.html",
      true,
      false
    );
  
    add(
      "AWS S3 CRD",
      "/docs/rook/v1.1/edgefs-s3-crd.html",
      true,
      false
    );
  
    add(
      "OpenStack/SWIFT CRD",
      "/docs/rook/v1.1/edgefs-swift-crd.html",
      true,
      false
    );
  
    add(
      "iSCSI Target CRD",
      "/docs/rook/v1.1/edgefs-iscsi-crd.html",
      true,
      false
    );
  
    add(
      "CSI driver",
      "/docs/rook/v1.1/edgefs-csi.html",
      true,
      false
    );
  
    add(
      "Monitoring",
      "/docs/rook/v1.1/edgefs-monitoring.html",
      true,
      false
    );
  
    add(
      "User Interface",
      "/docs/rook/v1.1/edgefs-ui.html",
      true,
      false
    );
  
    add(
      "VDEV Management",
      "/docs/rook/v1.1/edgefs-vdev-management.html",
      true,
      false
    );
  
    add(
      "Upgrade",
      "/docs/rook/v1.1/edgefs-upgrade.html",
      true,
      false
    );
  
    add(
      "Cassandra Cluster CRD",
      "/docs/rook/v1.1/cassandra-cluster-crd.html",
      false,
      false
    );
  
    add(
      "Upgrade",
      "/docs/rook/v1.1/cassandra-operator-upgrade.html",
      true,
      false
    );
  
    add(
      "CockroachDB Cluster CRD",
      "/docs/rook/v1.1/cockroachdb-cluster-crd.html",
      false,
      false
    );
  
    add(
      "Minio Object Store CRD",
      "/docs/rook/v1.1/minio-object-store-crd.html",
      false,
      false
    );
  
    add(
      "NFS Server CRD",
      "/docs/rook/v1.1/nfs-crd.html",
      false,
      false
    );
  
    add(
      "YugabyteDB Cluster CRD",
      "/docs/rook/v1.1/yugabytedb-cluster-crd.html",
      false,
      false
    );
  
    add(
      "Helm Charts",
      "/docs/rook/v1.1/helm.html",
      false,
      false
    );
  
    add(
      "Ceph Operator",
      "/docs/rook/v1.1/helm-operator.html",
      true,
      false
    );
  
    add(
      "Common Issues",
      "/docs/rook/v1.1/common-issues.html",
      false,
      false
    );
  
    add(
      "Ceph Common Issues",
      "/docs/rook/v1.1/ceph-common-issues.html",
      true,
      false
    );
  
    add(
      "Ceph Tools",
      "/docs/rook/v1.1/ceph-tools.html",
      false,
      false
    );
  
    add(
      "Toolbox",
      "/docs/rook/v1.1/ceph-toolbox.html",
      true,
      false
    );
  
    add(
      "Direct Tools",
      "/docs/rook/v1.1/direct-tools.html",
      true,
      false
    );
  
    add(
      "Advanced Configuration",
      "/docs/rook/v1.1/ceph-advanced-configuration.html",
      true,
      false
    );
  
    add(
      "Container Linux",
      "/docs/rook/v1.1/container-linux.html",
      true,
      false
    );
  
    add(
      "Disaster Recovery",
      "/docs/rook/v1.1/disaster-recovery.html",
      true,
      false
    );
  
    add(
      "Contributing",
      "/docs/rook/v1.1/development-flow.html",
      false,
      true
    );
  
    add(
      "Multi-Node Test Environment",
      "/docs/rook/v1.1/development-environment.html",
      true,
      false
    );
  

  function getEntry(item) {
    var itemDom = document.createElement('li');

    if (item.current) {
      itemDom.innerHTML = item.name;
      itemDom.classList.add('current');
    } else {
      itemDom.innerHTML = '<a href="' + item.url + '">' + item.name + '</a>';
    }

    return itemDom;
  }

  // Flush css changes as explained in: https://stackoverflow.com/a/34726346
  // and more completely: https://stackoverflow.com/a/6956049
  function flushCss(element) {
    element.offsetHeight;
  }

  function addArrow(itemDom) {
    var MAIN_ITEM_HEIGHT = 24;
    var BOTTOM_PADDING = 20;
    var arrowDom = document.createElement('a');
    arrowDom.classList.add('arrow');
    arrowDom.innerHTML = '<img src="' + BASE_PATH + '/images/arrow.svg" />';
    arrowDom.onclick = function(itemDom) {
      return function () {
        // Calculated full height of the opened list
        var fullHeight = MAIN_ITEM_HEIGHT + BOTTOM_PADDING + itemDom.lastChild.clientHeight + 'px';

        itemDom.classList.toggle('open');

        if (itemDom.classList.contains('open')) {
          itemDom.style.height = fullHeight;
        } else {
          // If the list height is auto we have to set it to fullHeight
          // without tranistion before we shrink it to collapsed height
          if (itemDom.style.height === 'auto') {
            itemDom.style.transition = 'none';
            itemDom.style.height = fullHeight;
            flushCss(itemDom);
            itemDom.style.transition = '';
          }
          itemDom.style.height = MAIN_ITEM_HEIGHT + 'px';
        }

        return false;
      };
    }(itemDom);
    itemDom.appendChild(arrowDom);

    if ((item.current && item.children) || item.childCurrent) {
      itemDom.classList.add('open');
      itemDom.style.height = 'auto';
    } else {
      itemDom.style.height = MAIN_ITEM_HEIGHT + 'px';
    }
  }

  var menuDom = document.getElementById('docs-ul');
  for (var i = 0; i < menu.length; i++) {
    var item = menu[i];
    var itemDom = getEntry(item);

    if (item.childCurrent) {
      itemDom.classList.add('childCurrent');
    }

    if (item.children) {
      addArrow(itemDom);
      itemDom.classList.add('children');
      var children = document.createElement('ul');
      for (var j = 0; j < item.children.length; j++) {
        children.appendChild(getEntry(item.children[j]));
      }
      itemDom.appendChild(children);
    }
    menuDom.appendChild(itemDom);
  }
</script>
</div></main>
    <footer id="footer" aria-label="Footer">
  <div class="top">
    <a href="//www.cncf.io">
      <img
        class="cncf"
        src="/images/cncf.png"
        srcset="/images/cncf@2x.png 2x, /images/cncf@3x.png 3x" />
    </a>
    <p>We are a Cloud Native Computing Foundation graduated project.</p>
  </div>
  <div class="middle">
    <div class="grid-center">
      <div class="col_sm-12">
        <span>Getting Started</span>
        <a href="//github.com/rook/rook">GitHub</a>
        <a href="/docs/rook/v1.9/">Documentation</a>
        <a href="//github.com/rook/rook/blob/master/CONTRIBUTING.md#how-to-contribute">How to Contribute</a>
      </div>
      <div class="col_sm-12">
        <span>Community</span>
        <a href="//slack.rook.io/">Slack</a>
        <a href="//twitter.com/rook_io">Twitter</a>
        <a href="//groups.google.com/forum/#!forum/rook-dev">Forum</a>
        <a href="//blog.rook.io/">Blog</a>
      </div>
      <div class="col_sm-12">
        <span>Contact</span>
        <a href="mailto:cncf-rook-info@lists.cncf.io">Email</a>
        <a href="//github.com/rook/rook/issues">Feature request</a>
      </div>
      <div class="col_sm-12">
        <span>Top Contributors</span>
        <a href="//cloudical.io/">Cloudical</a>
        <a href="//cybozu.com">Cybozu, Inc</a>
        <a href="//www.redhat.com">Red Hat</a>
        <a href="//www.suse.com/">SUSE</a>
        <a href="//upbound.io">Upbound</a>
      </div>
    </div>
  </div>
  <div class="bottom">
    <div class="grid-center">
      <div class="col-8">
        <a class="logo" href="/">
          <img src="/images/rook-logo-small.svg" alt="rook.io" />
        </a>
        <p>
          &#169; Rook Authors 2022. Documentation distributed under
          <a href="https://creativecommons.org/licenses/by/4.0">CC-BY-4.0</a>.
        </p>
        <p>
          &#169; 2022 The Linux Foundation. All rights reserved. The Linux Foundation has
          registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our
          <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> page.
        </p>
      </div>
    </div>
  </div>
</footer>


  <script src="/js/anchor.js"></script>
  <script>
    anchors.options = {
      placement: 'right',
      icon: '#',
    }

    document.addEventListener('DOMContentLoaded', function(event) {
      anchors.add('.docs-text h1, .docs-text h2, .docs-text h3, .docs-text h4, .docs-text h5, .docs-text h6');
    });
  </script>




    
  </body>
</html>
