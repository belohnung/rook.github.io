












































<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    
    <meta name="robots" content="noindex">
    

    <title>Ceph Docs</title>

    <link rel="canonical" href="https://rook.io/docs/rook/latest/ceph-object-bucket-notifications.html">

    <link rel="icon" href="/favicon.ico" />
<link rel="icon" type="image/png" href="/images/favicon_16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="/images/favicon_32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/images/favicon_48x48.png" sizes="48x48" />
<link rel="icon" type="image/png" href="/images/favicon_192x192.png" sizes="192x192" />


    <link href="//fonts.googleapis.com/css?family=Montserrat:500|Open+Sans:300,400,600" rel="stylesheet">
    
    <link rel="stylesheet" href="/css/main.css">
    
      <link rel="stylesheet" href="/css/docs.css" />
    
  </head>
  <body>
    <nav id="navigation" aria-label="Navigation">
  <div>
    <div class="logo">
      <a href="/"><img src="/images/rook-logo.svg"/></a>
    </div>
    <div
      class="hamburger-controls"
      onclick="if (document.body.classList.contains('menu-open')) { document.body.classList.remove('menu-open') } else { document.body.classList.add('menu-open') }; return false;">
      <span></span> <span></span> <span></span>
    </div>
    <ul class="links">
      <li class="dropdown">
        <a role="button" href="javascript:void(0)">Documentation</a>
        <div class="dropdown-content">
          <a href="/docs/rook/v1.9/">Ceph</a>
          <a href="/docs/cassandra/v1.7/">Cassandra</a>
          <a href="/docs/nfs/v1.7/">NFS</a>
        </div>
      <li class="dropdown">
        <a role="button" href="javascript:void(0)">Community</a>
        <div class="dropdown-content">
          <a href="//github.com/rook/rook">GitHub</a>
          <a href="//slack.rook.io/">Slack</a>
          <a href="//groups.google.com/forum/#!forum/rook-dev">Forum</a>
          <a href="//twitter.com/rook_io">Twitter</a>
        </div>
      </li>
      <li><a href="//blog.rook.io/">Blog</a></li>
      <li><a class="button small" href="/docs/rook/v1.9/quickstart.html">Get Started</a></li>
    </ul>
  </div>
</nav>

    <main id="content" aria-label="Content"><div>



















<section class="docs-header">
  <h1>Ceph</h1>
  <div class="versions">
    <a role="button" href="javascript:void(0)">Rook Ceph latest</a>
    <div class="versions-dropdown-content">
      
        <a href="/docs/rook/v1.9/ceph-object-bucket-notifications.html">Rook Ceph v1.9</a>
      
        <a href="/docs/rook/v1.8/ceph-object-bucket-notifications.html">Rook Ceph v1.8</a>
      
        <a href="/docs/rook/v1.7/ceph-object-bucket-notifications.html">Rook Ceph v1.7</a>
      
        <a href="/docs/rook/v1.6/ceph-object-bucket-notifications.html">Rook Ceph v1.6</a>
      
        <a href="/docs/rook/v1.5/ceph-object-bucket-notifications.html">Rook Ceph v1.5</a>
      
        <a href="/docs/rook/v1.4/ceph-object-bucket-notifications.html">Rook Ceph v1.4</a>
      
        <a href="/docs/rook/v1.3/ceph-object-bucket-notifications.html">Rook Ceph v1.3</a>
      
        <a href="/docs/rook/v1.2/ceph-object-bucket-notifications.html">Rook Ceph v1.2</a>
      
        <a href="/docs/rook/v1.1/ceph-object-bucket-notifications.html">Rook Ceph v1.1</a>
      
        <a href="/docs/rook/v1.0/ceph-object-bucket-notifications.html">Rook Ceph v1.0</a>
      
        <a href="/docs/rook/v0.9/ceph-object-bucket-notifications.html">Rook Ceph v0.9</a>
      
        <a href="/docs/rook/v0.8/ceph-object-bucket-notifications.html">Rook Ceph v0.8</a>
      
        <a href="/docs/rook/v0.7/ceph-object-bucket-notifications.html">Rook Ceph v0.7</a>
      
        <a href="/docs/rook/v0.6/ceph-object-bucket-notifications.html">Rook Ceph v0.6</a>
      
        <a href="/docs/rook/v0.5/ceph-object-bucket-notifications.html">Rook Ceph v0.5</a>
      
        <a href="/docs/rook/latest/ceph-object-bucket-notifications.html" class="active">Rook Ceph latest</a>
      
    </div>
    <img src="/images/arrow.svg" />
  </div>
</section>
<div class="page">
  <div class="docs-menu">
      <ul id="docs-ul"></ul>
  </div>
  <div class="docs-content">
    <div class="docs-actions">
      <a id="edit" href="https://github.com/rook/rook/blob/master/Documentation/ceph-object-bucket-notifications.md">Edit on GitHub</a>
    </div>
    
      <div class="alert master">
        <p><b>PLEASE NOTE:</b> This document applies to an <b>unreleased</b> version of Rook. It is strongly recommended that you only use official releases of Rook, as unreleased versions are subject to changes and incompatibilities that will not be supported in the official releases.</p>
      </div>
    
    <div class="docs-text">
      <h1 id="ceph-object-bucket-notifications">Ceph Object Bucket Notifications</h1>

<blockquote>
  <p>This feature is <strong>experimental</strong></p>
</blockquote>

<p>Rook supports the creation of bucket notifications via two custom resources:</p>

<ul>
  <li>a <code class="language-plaintext highlighter-rouge">CephBucketNotification</code> is a custom resource the defines: topic, events and filters of a bucket notification, and is described by a Custom Resource Definition (CRD) shown below. Bucket notifications are associated with a bucket by setting labels on the Object Bucket claim (OBC).
See the Ceph documentation for detailed information: https://docs.ceph.com/en/latest/radosgw/notifications/.</li>
  <li>a <code class="language-plaintext highlighter-rouge">CephBucketTopic</code> is custom resource which represents a bucket notification topic and is described by a CRD shown below. A bucket notification topic represents an endpoint (or a “topic” inside this endpoint) to which bucket notifications could be sent.</li>
</ul>

<h2 id="notifications">Notifications</h2>
<p>A CephBucketNotification defines what bucket actions trigger the notification and which topic to send notifications to. A CephBucketNotification may also define a filter, based on the object’s name and other object attributes. Notifications can be associated with buckets created via ObjectBucketClaims by adding labels to an ObjectBucketClaim with the following format:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">bucket-notification-&lt;notification name&gt;</span><span class="pi">:</span> <span class="s">&lt;notification name&gt;</span>
</code></pre></div></div>
<p>The CephBucketTopic, CephBucketNotification and ObjectBucketClaim must all belong to the same namespace.
If a bucket was created manually (not via an ObjectBucketClaim), notifications on this bucket should also be created manually. However, topics in these notifications may reference topics that were created via CephBucketTopic resources.</p>

<h2 id="topics">Topics</h2>
<p>A CephBucketTopic represents an endpoint (of types: Kafka, AMQP0.9.1 or HTTP), or a specific resource inside this endpoint (e.g a Kafka or an AMQP topic, or a specific URI in an HTTP server). The CephBucketTopic also holds any additional info needed for a CephObjectStore’s RADOS Gateways (RGW) to connect to the endpoint. Topics don’t belong to a specific bucket or notification. Notifications from multiple buckets may be sent to the same topic, and one bucket (via multiple CephBucketNotifications) may send notifications to multiple topics.</p>

<h2 id="notification-reliability-and-delivery">Notification Reliability and Delivery</h2>
<p>Notifications may be sent synchronously, as part of the operation that triggered them. In this mode, the operation is acknowledged only after the notification is sent to the topic’s configured endpoint, which means that the round trip time of the notification is added to the latency of the operation itself.
The original triggering operation will still be considered as successful even if the notification fail with an error, cannot be delivered or times out.</p>

<p>Notifications may also be sent asynchronously. They will be committed into persistent storage and then asynchronously sent to the topic’s configured endpoint. In this case, the only latency added to the original operation is of committing the notification to persistent storage.
If the notification fail with an error, cannot be delivered or times out, it will be retried until successfully acknowledged.</p>

<h2 id="sample">Sample</h2>

<h3 id="cephbuckettopic-custom-resource">CephBucketTopic Custom Resource</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">objectbucket.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">CephBucketTopic</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-topic [1]</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">my-app-space [2]</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">objectStoreName</span><span class="pi">:</span> <span class="s">my-store [3]</span>
  <span class="na">objectStoreNamespace</span><span class="pi">:</span> <span class="s">rook-ceph [4]</span>
  <span class="na">opaqueData</span><span class="pi">:</span> <span class="s">my@email.com [5]</span>
  <span class="na">persistent</span><span class="pi">:</span> <span class="no">false</span><span class="s"> [6]</span>
  <span class="na">endpoint</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">7</span><span class="pi">]</span>
    <span class="na">http</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">8</span><span class="pi">]</span>
      <span class="na">uri</span><span class="pi">:</span> <span class="s">http://my-notification-endpoint:8080</span>
<span class="c1">#     uri: http://my-notification-endpoint:8080/my-topic</span>
<span class="c1">#     uri: https://my-notification-endpoint:8443</span>
      <span class="na">disableVerifySSL</span><span class="pi">:</span> <span class="no">true</span><span class="s"> [9]</span>
      <span class="na">sendCloudEvents</span><span class="pi">:</span> <span class="no">false</span><span class="s"> [10]</span>
<span class="c1">#   amqp: [11]</span>
<span class="c1">#     uri: amqp://my-rabbitmq-service:5672</span>
<span class="c1">#     uri: amqp://my-rabbitmq-service:5672/vhost1</span>
<span class="c1">#     uri: amqps://user@password:my-rabbitmq-service:5672</span>
<span class="c1">#     disableVerifySSL: true [12]</span>
<span class="c1">#     ackLevel: broker [13]</span>
<span class="c1">#     exchange: my-exchange [14]</span>
<span class="c1">#   kafka: [15]</span>
<span class="c1">#     uri: kafka://my-kafka-service:9092</span>
<span class="c1">#     disableVerifySSL: true [16]</span>
<span class="c1">#     ackLevel: broker [17]</span>
<span class="c1">#     useSSL: false [18]</span>

</code></pre></div></div>
<ol>
  <li><code class="language-plaintext highlighter-rouge">name</code> of the <code class="language-plaintext highlighter-rouge">CephBucketTopic</code>
    <ul>
      <li>In case of AMQP endpoint, the name is used for the AMQP topic (“routing key” for a topic exchange)</li>
      <li>In case of Kafka endpoint, the name is used as the Kafka topic</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">namespace</code>(optional) of the <code class="language-plaintext highlighter-rouge">CephBucketTopic</code>. Should match the namespace of the CephBucketNotification associated with this CephBucketTopic, and the OBC with the label referencing the CephBucketNotification</li>
  <li><code class="language-plaintext highlighter-rouge">objectStoreName</code> is the name of the object store in which the topic should be created. This must be the same object store used for the buckets associated with the notifications referencing this topic.</li>
  <li><code class="language-plaintext highlighter-rouge">objectStoreNamespace</code> is the namespace of the object store in which the topic should be created</li>
  <li><code class="language-plaintext highlighter-rouge">opaqueData</code> (optional) is added to all notifications triggered by a notifications associated with the topic</li>
  <li><code class="language-plaintext highlighter-rouge">persistent</code> (optional) indicates whether notifications to this endpoint are persistent (=asynchronous) or sent synchronously (“false” by default)</li>
  <li><code class="language-plaintext highlighter-rouge">endpoint</code> to which to send the notifications to. Exactly one of the endpoints must be defined: <code class="language-plaintext highlighter-rouge">http</code>, <code class="language-plaintext highlighter-rouge">amqp</code>, <code class="language-plaintext highlighter-rouge">kafka</code></li>
  <li><code class="language-plaintext highlighter-rouge">http</code> (optional) hold the spec for an HTTP endpoint. The format of the URI would be: <code class="language-plaintext highlighter-rouge">http[s]://&lt;fqdn&gt;[:&lt;port&gt;][/&lt;resource&gt;]</code>
    <ul>
      <li>port defaults to: 80/443 for HTTP/S accordingly</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">disableVerifySSL</code> indicates whether the RGW is going to verify the SSL certificate of the HTTP server in case HTTPS is used (“false” by default)</li>
  <li><code class="language-plaintext highlighter-rouge">amqp</code> (optional) hold the spec for an AMQP endpoint. The format of the URI would be: <code class="language-plaintext highlighter-rouge">amqp[s]://[&lt;user&gt;:&lt;password&gt;@]&lt;fqdn&gt;[:&lt;port&gt;][/&lt;vhost&gt;]</code>
    <ul>
      <li>port defaults to: 5672/5671 for AMQP/S accordingly</li>
      <li>user/password defaults to: guest/guest</li>
      <li>user/password may only be provided if HTTPS is used with the RGW. If not, topic creation request will be rejected</li>
      <li>vhost defaults to: “/”</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">disableVerifySSL</code> (optional) indicates whether the RGW is going to verify the SSL certificate of the AMQP server in case AMQPS is used (“false” by default)</li>
  <li><code class="language-plaintext highlighter-rouge">sendCloudEvents</code>: (optional) send the notifications with the <a href="https://github.com/cloudevents/spec/blob/main/cloudevents/adapters/aws-s3.md">CloudEvents header</a>. Supported for Ceph Quincy (v17) or newer (“false” by default)</li>
  <li><code class="language-plaintext highlighter-rouge">ackLevel</code> (optional) indicates what kind of ack the RGW is waiting for after sending the notifications:
    <ul>
      <li>“none”: message is considered “delivered” if sent to broker</li>
      <li>“broker”: message is considered “delivered” if acked by broker (default)</li>
      <li>“routable”: message is considered “delivered” if broker can route to a consumer</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">exchange</code> in the AMQP broker that would route the notifications. Different topics pointing to the same endpoint must use the same exchange</li>
  <li><code class="language-plaintext highlighter-rouge">kafka</code> (optional) hold the spec for a Kafka endpoint. The format of the URI would be: <code class="language-plaintext highlighter-rouge">kafka://[&lt;user&gt;:&lt;password&gt;@]&lt;fqdn&gt;[:&lt;port]</code>
    <ul>
      <li>port defaults to: 9092</li>
      <li>user/password may only be provided if HTTPS is used with the RGW. If not, topic creation request will be rejected</li>
      <li>user/password may only be provided together with <code class="language-plaintext highlighter-rouge">useSSL</code>, if not, the connection to the broker would fail</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">disableVerifySSL</code> (optional) indicates whether the RGW is going to verify the SSL certificate of the Kafka server in case <code class="language-plaintext highlighter-rouge">useSSL</code> flag is used (“false” by default)</li>
  <li><code class="language-plaintext highlighter-rouge">ackLevel</code> (optional) indicates what kind of ack the RGW is waiting for after sending the notifications:
    <ul>
      <li>“none”: message is considered “delivered” if sent to broker</li>
      <li>“broker”: message is considered “delivered” if acked by broker (default)</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">useSSL</code> (optional) indicates that secure connection will be used for connecting with the broker (“false” by default)
    <blockquote>
      <p>Note that n case of Kafka and AMQP, the consumer of the notifications is not required to ack the notifications, since the broker persists the messages before delivering them to their final destinations</p>
    </blockquote>
  </li>
</ol>

<h3 id="cephbucketnotification-custom-resource">CephBucketNotification Custom Resource</h3>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">ceph.rook.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">CephBucketNotification</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-notification [1]</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">my-app-space [2]</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">topic</span><span class="pi">:</span> <span class="s">my-topic [3]</span>
  <span class="na">filter</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">4</span><span class="pi">]</span>
    <span class="na">keyFilters</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">5</span><span class="pi">]</span>
      <span class="c1"># match objects with keys that start with "hello"</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">prefix</span>
        <span class="na">value</span><span class="pi">:</span> <span class="s">hello</span>
      <span class="c1"># match objects with keys that end with ".png"</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">suffix</span>
        <span class="na">value</span><span class="pi">:</span> <span class="s">.png</span>
      <span class="c1"># match objects with keys with only lowercase characters</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">regex</span>
        <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">[a-z]*</span><span class="se">\\</span><span class="s">.*"</span>
    <span class="na">metadataFilters</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">6</span><span class="pi">]</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">x-amz-meta-color</span>
        <span class="na">value</span><span class="pi">:</span> <span class="s">blue</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">x-amz-meta-user-type</span>
        <span class="na">value</span><span class="pi">:</span> <span class="s">free</span>
    <span class="na">tagFilters</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">7</span><span class="pi">]</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">project</span>
        <span class="na">value</span><span class="pi">:</span> <span class="s">brown</span>
  <span class="c1"># notification apply for any of the events</span>
  <span class="c1"># full list of supported events is here:</span>
  <span class="c1"># https://docs.ceph.com/en/latest/radosgw/s3-notification-compatibility/#event-types</span>
  <span class="na">events</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">8</span><span class="pi">]</span>
    <span class="pi">-</span> <span class="s">s3:ObjectCreated:Put</span>
    <span class="pi">-</span> <span class="s">s3:ObjectCreated:Copy</span>
</code></pre></div></div>
<ol>
  <li><code class="language-plaintext highlighter-rouge">name</code> of the <code class="language-plaintext highlighter-rouge">CephBucketNotification</code></li>
  <li><code class="language-plaintext highlighter-rouge">namespace</code>(optional) of the <code class="language-plaintext highlighter-rouge">CephBucketNotification</code>. Should match the namespace of the CephBucketTopic referenced in [3], and the OBC with the label referencing the CephBucketNotification</li>
  <li><code class="language-plaintext highlighter-rouge">topic</code> to which the notifications should be sent</li>
  <li><code class="language-plaintext highlighter-rouge">filter</code> (optional) holds a list of filtering rules of different types. Only objects that match all the filters will trigger notification sending</li>
  <li><code class="language-plaintext highlighter-rouge">keyFilter</code> (optional) are filters based on the object key. There could be up to 3 key filters defined: <code class="language-plaintext highlighter-rouge">prefix</code>, <code class="language-plaintext highlighter-rouge">suffix</code> and <code class="language-plaintext highlighter-rouge">regex</code></li>
  <li><code class="language-plaintext highlighter-rouge">metadataFilters</code> (optional) are filters based on the object metadata. All metadata fields defined as filters must exists in the object, with the values defined in the filter. Other metadata fields may exist in the object</li>
  <li><code class="language-plaintext highlighter-rouge">tagFilters</code> (optional) are filters based on object tags. All tags defined as filters must exists in the object, with the values defined in the filter. Other tags may exist in the object</li>
  <li><code class="language-plaintext highlighter-rouge">events</code> (optional) is a list of events that should trigger the notifications. By default all events should trigger notifications. Valid Events are:
    <ul>
      <li>s3:ObjectCreated:*</li>
      <li>s3:ObjectCreated:Put</li>
      <li>s3:ObjectCreated:Post</li>
      <li>s3:ObjectCreated:Copy</li>
      <li>s3:ObjectCreated:CompleteMultipartUpload</li>
      <li>s3:ObjectRemoved:*</li>
      <li>s3:ObjectRemoved:Delete</li>
      <li>s3:ObjectRemoved:DeleteMarkerCreated</li>
    </ul>
  </li>
</ol>

<h3 id="obc-custom-resource">OBC Custom Resource</h3>
<p>For a notifications to be associated with a bucket, a labels must be added to the OBC, indicating the name of the notification.
To delete a notification from a bucket the matching label must be removed.
When an OBC is deleted, all of the notifications associated with the bucket will be deleted as well.</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">objectbucket.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ObjectBucketClaim</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">ceph-notification-bucket</span>
  <span class="na">labels</span><span class="pi">:</span>
    <span class="c1"># labels that don't have this structure: bucket-notification-&lt;name&gt; : &lt;name&gt;</span>
    <span class="c1"># are ignored by the operator's bucket notifications provisioning mechanism</span>
    <span class="na">some-label</span><span class="pi">:</span> <span class="s">some-value</span>
    <span class="c1"># the following label adds notifications to this bucket</span>
    <span class="na">bucket-notification-my-notification</span><span class="pi">:</span> <span class="s">my-notification</span>
    <span class="na">bucket-notification-another-notification</span><span class="pi">:</span> <span class="s">another-notification</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">generateBucketName</span><span class="pi">:</span> <span class="s">ceph-bkt</span>
  <span class="na">storageClassName</span><span class="pi">:</span> <span class="s">rook-ceph-delete-bucket</span>
</code></pre></div></div>

    </div>
  </div>
</div>

<script>
  var menu = [];
  var BASE_PATH = "";

  function add(name, url, isChild, current) {
    var item = { name: name, url: url, current: current };
    var container = menu;
    if (isChild && menu.length > 0) {
      menu[menu.length-1].children = menu[menu.length-1].children || [];
      container = menu[menu.length-1].children;
      if (current) {
        menu[menu.length-1].childCurrent = true;
      }
    }
    container.push(item);
  }

  
    add(
      "Rook",
      "/docs/rook/latest/",
      false,
      false
    );
  
    add(
      "Quickstart",
      "/docs/rook/latest/quickstart.html",
      false,
      false
    );
  
    add(
      "Prerequisites",
      "/docs/rook/latest/pre-reqs.html",
      false,
      false
    );
  
    add(
      "Authenticated Registries",
      "/docs/rook/latest/authenticated-registry.html",
      true,
      false
    );
  
    add(
      "Pod Security Policies",
      "/docs/rook/latest/pod-security-policies.html",
      true,
      false
    );
  
    add(
      "Ceph Storage",
      "/docs/rook/latest/ceph-storage.html",
      false,
      false
    );
  
    add(
      "Examples",
      "/docs/rook/latest/ceph-examples.html",
      true,
      false
    );
  
    add(
      "OpenShift",
      "/docs/rook/latest/ceph-openshift.html",
      true,
      false
    );
  
    add(
      "Block Storage",
      "/docs/rook/latest/ceph-block.html",
      true,
      false
    );
  
    add(
      "Object Storage",
      "/docs/rook/latest/ceph-object.html",
      true,
      false
    );
  
    add(
      "Object Multisite",
      "/docs/rook/latest/ceph-object-multisite.html",
      true,
      false
    );
  
    add(
      "Shared Filesystem",
      "/docs/rook/latest/ceph-filesystem.html",
      true,
      false
    );
  
    add(
      "Ceph Dashboard",
      "/docs/rook/latest/ceph-dashboard.html",
      true,
      false
    );
  
    add(
      "Prometheus Monitoring",
      "/docs/rook/latest/ceph-monitoring.html",
      true,
      false
    );
  
    add(
      "Cluster CRD",
      "/docs/rook/latest/ceph-cluster-crd.html",
      true,
      false
    );
  
    add(
      "Block Pool CRD",
      "/docs/rook/latest/ceph-pool-crd.html",
      true,
      false
    );
  
    add(
      "Object Store CRD",
      "/docs/rook/latest/ceph-object-store-crd.html",
      true,
      false
    );
  
    add(
      "Object Multisite CRDs",
      "/docs/rook/latest/ceph-object-multisite-crd.html",
      true,
      false
    );
  
    add(
      "Object Bucket Claim",
      "/docs/rook/latest/ceph-object-bucket-claim.html",
      true,
      false
    );
  
    add(
      "Object Store User CRD",
      "/docs/rook/latest/ceph-object-store-user-crd.html",
      true,
      false
    );
  
    add(
      "Bucket Notifications",
      "/docs/rook/latest/ceph-object-bucket-notifications.html",
      true,
      true
    );
  
    add(
      "Shared Filesystem CRD",
      "/docs/rook/latest/ceph-filesystem-crd.html",
      true,
      false
    );
  
    add(
      "NFS CRD",
      "/docs/rook/latest/ceph-nfs-crd.html",
      true,
      false
    );
  
    add(
      "Ceph CSI",
      "/docs/rook/latest/ceph-csi-drivers.html",
      true,
      false
    );
  
    add(
      "RBD Mirroring",
      "/docs/rook/latest/rbd-mirroring.html",
      true,
      false
    );
  
    add(
      "Failover and Failback",
      "/docs/rook/latest/async-disaster-recovery.html",
      true,
      false
    );
  
    add(
      "Snapshots",
      "/docs/rook/latest/ceph-csi-snapshot.html",
      true,
      false
    );
  
    add(
      "Volume clone",
      "/docs/rook/latest/ceph-csi-volume-clone.html",
      true,
      false
    );
  
    add(
      "Client CRD",
      "/docs/rook/latest/ceph-client-crd.html",
      true,
      false
    );
  
    add(
      "RBD Mirror CRD",
      "/docs/rook/latest/ceph-rbd-mirror-crd.html",
      true,
      false
    );
  
    add(
      "Filesystem Mirror CRD",
      "/docs/rook/latest/ceph-fs-mirror-crd.html",
      true,
      false
    );
  
    add(
      "SubVolume Group CRD",
      "/docs/rook/latest/ceph-fs-subvolumegroup.html",
      true,
      false
    );
  
    add(
      "RADOS Namespace CRD",
      "/docs/rook/latest/ceph-pool-radosnamespace.html",
      true,
      false
    );
  
    add(
      "Key Management System",
      "/docs/rook/latest/ceph-kms.html",
      true,
      false
    );
  
    add(
      "Configuration",
      "/docs/rook/latest/ceph-configuration.html",
      true,
      false
    );
  
    add(
      "Upgrades",
      "/docs/rook/latest/ceph-upgrade.html",
      true,
      false
    );
  
    add(
      "Cleanup",
      "/docs/rook/latest/ceph-teardown.html",
      true,
      false
    );
  
    add(
      "Helm Charts",
      "/docs/rook/latest/helm.html",
      false,
      false
    );
  
    add(
      "Ceph Operator",
      "/docs/rook/latest/helm-operator.html",
      true,
      false
    );
  
    add(
      "Ceph Cluster",
      "/docs/rook/latest/helm-ceph-cluster.html",
      true,
      false
    );
  
    add(
      "Common Issues",
      "/docs/rook/latest/common-issues.html",
      false,
      false
    );
  
    add(
      "Ceph Tools",
      "/docs/rook/latest/ceph-tools.html",
      false,
      false
    );
  
    add(
      "Toolbox",
      "/docs/rook/latest/ceph-toolbox.html",
      true,
      false
    );
  
    add(
      "Common Issues",
      "/docs/rook/latest/ceph-common-issues.html",
      true,
      false
    );
  
    add(
      "CSI Common Issues",
      "/docs/rook/latest/ceph-csi-troubleshooting.html",
      true,
      false
    );
  
    add(
      "Monitor Health",
      "/docs/rook/latest/ceph-mon-health.html",
      true,
      false
    );
  
    add(
      "OSD Management",
      "/docs/rook/latest/ceph-osd-mgmt.html",
      true,
      false
    );
  
    add(
      "Direct Tools",
      "/docs/rook/latest/direct-tools.html",
      true,
      false
    );
  
    add(
      "Advanced Configuration",
      "/docs/rook/latest/ceph-advanced-configuration.html",
      true,
      false
    );
  
    add(
      "OpenShift Common Issues",
      "/docs/rook/latest/ceph-openshift-issues.html",
      true,
      false
    );
  
    add(
      "Disaster Recovery",
      "/docs/rook/latest/ceph-disaster-recovery.html",
      true,
      false
    );
  
    add(
      "Contributing",
      "/docs/rook/latest/development-flow.html",
      false,
      false
    );
  
    add(
      "Developer Environment",
      "/docs/rook/latest/development-environment.html",
      true,
      false
    );
  
    add(
      "Storage Providers",
      "/docs/rook/latest/storage-providers.html",
      true,
      false
    );
  

  function getEntry(item) {
    var itemDom = document.createElement('li');

    if (item.current) {
      itemDom.innerHTML = item.name;
      itemDom.classList.add('current');
    } else {
      itemDom.innerHTML = '<a href="' + item.url + '">' + item.name + '</a>';
    }

    return itemDom;
  }

  // Flush css changes as explained in: https://stackoverflow.com/a/34726346
  // and more completely: https://stackoverflow.com/a/6956049
  function flushCss(element) {
    element.offsetHeight;
  }

  function addArrow(itemDom) {
    var MAIN_ITEM_HEIGHT = 24;
    var BOTTOM_PADDING = 20;
    var arrowDom = document.createElement('a');
    arrowDom.classList.add('arrow');
    arrowDom.innerHTML = '<img src="' + BASE_PATH + '/images/arrow.svg" />';
    arrowDom.onclick = function(itemDom) {
      return function () {
        // Calculated full height of the opened list
        var fullHeight = MAIN_ITEM_HEIGHT + BOTTOM_PADDING + itemDom.lastChild.clientHeight + 'px';

        itemDom.classList.toggle('open');

        if (itemDom.classList.contains('open')) {
          itemDom.style.height = fullHeight;
        } else {
          // If the list height is auto we have to set it to fullHeight
          // without tranistion before we shrink it to collapsed height
          if (itemDom.style.height === 'auto') {
            itemDom.style.transition = 'none';
            itemDom.style.height = fullHeight;
            flushCss(itemDom);
            itemDom.style.transition = '';
          }
          itemDom.style.height = MAIN_ITEM_HEIGHT + 'px';
        }

        return false;
      };
    }(itemDom);
    itemDom.appendChild(arrowDom);

    if ((item.current && item.children) || item.childCurrent) {
      itemDom.classList.add('open');
      itemDom.style.height = 'auto';
    } else {
      itemDom.style.height = MAIN_ITEM_HEIGHT + 'px';
    }
  }

  var menuDom = document.getElementById('docs-ul');
  for (var i = 0; i < menu.length; i++) {
    var item = menu[i];
    var itemDom = getEntry(item);

    if (item.childCurrent) {
      itemDom.classList.add('childCurrent');
    }

    if (item.children) {
      addArrow(itemDom);
      itemDom.classList.add('children');
      var children = document.createElement('ul');
      for (var j = 0; j < item.children.length; j++) {
        children.appendChild(getEntry(item.children[j]));
      }
      itemDom.appendChild(children);
    }
    menuDom.appendChild(itemDom);
  }
</script>
</div></main>
    <footer id="footer" aria-label="Footer">
  <div class="top">
    <a href="//www.cncf.io">
      <img
        class="cncf"
        src="/images/cncf.png"
        srcset="/images/cncf@2x.png 2x, /images/cncf@3x.png 3x" />
    </a>
    <p>We are a Cloud Native Computing Foundation graduated project.</p>
  </div>
  <div class="middle">
    <div class="grid-center">
      <div class="col_sm-12">
        <span>Getting Started</span>
        <a href="//github.com/rook/rook">GitHub</a>
        <a href="/docs/rook/v1.9/">Documentation</a>
        <a href="//github.com/rook/rook/blob/master/CONTRIBUTING.md#how-to-contribute">How to Contribute</a>
      </div>
      <div class="col_sm-12">
        <span>Community</span>
        <a href="//slack.rook.io/">Slack</a>
        <a href="//twitter.com/rook_io">Twitter</a>
        <a href="//groups.google.com/forum/#!forum/rook-dev">Forum</a>
        <a href="//blog.rook.io/">Blog</a>
      </div>
      <div class="col_sm-12">
        <span>Contact</span>
        <a href="mailto:cncf-rook-info@lists.cncf.io">Email</a>
        <a href="//github.com/rook/rook/issues">Feature request</a>
      </div>
      <div class="col_sm-12">
        <span>Top Contributors</span>
        <a href="//cloudical.io/">Cloudical</a>
        <a href="//cybozu.com">Cybozu, Inc</a>
        <a href="//www.redhat.com">Red Hat</a>
        <a href="//www.suse.com/">SUSE</a>
        <a href="//upbound.io">Upbound</a>
      </div>
    </div>
  </div>
  <div class="bottom">
    <div class="grid-center">
      <div class="col-8">
        <a class="logo" href="/">
          <img src="/images/rook-logo-small.svg" alt="rook.io" />
        </a>
        <p>
          &#169; Rook Authors 2022. Documentation distributed under
          <a href="https://creativecommons.org/licenses/by/4.0">CC-BY-4.0</a>.
        </p>
        <p>
          &#169; 2022 The Linux Foundation. All rights reserved. The Linux Foundation has
          registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our
          <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> page.
        </p>
      </div>
    </div>
  </div>
</footer>


  <script src="/js/anchor.js"></script>
  <script>
    anchors.options = {
      placement: 'right',
      icon: '#',
    }

    document.addEventListener('DOMContentLoaded', function(event) {
      anchors.add('.docs-text h1, .docs-text h2, .docs-text h3, .docs-text h4, .docs-text h5, .docs-text h6');
    });
  </script>




    
  </body>
</html>
