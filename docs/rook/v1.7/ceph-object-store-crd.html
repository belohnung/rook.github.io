












































<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    
    <meta name="robots" content="noindex">
    

    <title>Ceph Docs</title>

    <link rel="canonical" href="https://rook.io/docs/rook/v1.7/ceph-object-store-crd.html">

    <link rel="icon" href="/favicon.ico" />
<link rel="icon" type="image/png" href="/images/favicon_16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="/images/favicon_32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/images/favicon_48x48.png" sizes="48x48" />
<link rel="icon" type="image/png" href="/images/favicon_192x192.png" sizes="192x192" />


    <link href="//fonts.googleapis.com/css?family=Montserrat:500|Open+Sans:300,400,600" rel="stylesheet">
    
    <link rel="stylesheet" href="/css/main.css">
    
      <link rel="stylesheet" href="/css/docs.css" />
    
  </head>
  <body>
    <nav id="navigation" aria-label="Navigation">
  <div>
    <div class="logo">
      <a href="/"><img src="/images/rook-logo.svg"/></a>
    </div>
    <div
      class="hamburger-controls"
      onclick="if (document.body.classList.contains('menu-open')) { document.body.classList.remove('menu-open') } else { document.body.classList.add('menu-open') }; return false;">
      <span></span> <span></span> <span></span>
    </div>
    <ul class="links">
      <li class="dropdown">
        <a role="button" href="javascript:void(0)">Documentation</a>
        <div class="dropdown-content">
          <a href="/docs/rook/v1.9/">Ceph</a>
          <a href="/docs/cassandra/v1.7/">Cassandra</a>
          <a href="/docs/nfs/v1.7/">NFS</a>
        </div>
      <li class="dropdown">
        <a role="button" href="javascript:void(0)">Community</a>
        <div class="dropdown-content">
          <a href="//github.com/rook/rook">GitHub</a>
          <a href="//slack.rook.io/">Slack</a>
          <a href="//groups.google.com/forum/#!forum/rook-dev">Forum</a>
          <a href="//twitter.com/rook_io">Twitter</a>
        </div>
      </li>
      <li><a href="//blog.rook.io/">Blog</a></li>
      <li><a class="button small" href="/docs/rook/v1.9/quickstart.html">Get Started</a></li>
    </ul>
  </div>
</nav>

    <main id="content" aria-label="Content"><div>



















<section class="docs-header">
  <h1>Ceph</h1>
  <div class="versions">
    <a role="button" href="javascript:void(0)">Rook Ceph v1.7</a>
    <div class="versions-dropdown-content">
      
        <a href="/docs/rook/v1.9/ceph-object-store-crd.html">Rook Ceph v1.9</a>
      
        <a href="/docs/rook/v1.8/ceph-object-store-crd.html">Rook Ceph v1.8</a>
      
        <a href="/docs/rook/v1.7/ceph-object-store-crd.html" class="active">Rook Ceph v1.7</a>
      
        <a href="/docs/rook/v1.6/ceph-object-store-crd.html">Rook Ceph v1.6</a>
      
        <a href="/docs/rook/v1.5/ceph-object-store-crd.html">Rook Ceph v1.5</a>
      
        <a href="/docs/rook/v1.4/ceph-object-store-crd.html">Rook Ceph v1.4</a>
      
        <a href="/docs/rook/v1.3/ceph-object-store-crd.html">Rook Ceph v1.3</a>
      
        <a href="/docs/rook/v1.2/ceph-object-store-crd.html">Rook Ceph v1.2</a>
      
        <a href="/docs/rook/v1.1/ceph-object-store-crd.html">Rook Ceph v1.1</a>
      
        <a href="/docs/rook/v1.0/ceph-object-store-crd.html">Rook Ceph v1.0</a>
      
        <a href="/docs/rook/v0.9/ceph-object-store-crd.html">Rook Ceph v0.9</a>
      
        <a href="/docs/rook/v0.8/ceph-object-store-crd.html">Rook Ceph v0.8</a>
      
        <a href="/docs/rook/v0.7/ceph-object-store-crd.html">Rook Ceph v0.7</a>
      
        <a href="/docs/rook/v0.6/ceph-object-store-crd.html">Rook Ceph v0.6</a>
      
        <a href="/docs/rook/v0.5/ceph-object-store-crd.html">Rook Ceph v0.5</a>
      
        <a href="/docs/rook/latest/ceph-object-store-crd.html">Rook Ceph latest</a>
      
    </div>
    <img src="/images/arrow.svg" />
  </div>
</section>
<div class="page">
  <div class="docs-menu">
      <ul id="docs-ul"></ul>
  </div>
  <div class="docs-content">
    <div class="docs-actions">
      <a id="edit" href="https://github.com/rook/rook/blob/master/Documentation/ceph-object-store-crd.md">Edit on GitHub</a>
    </div>
    
      <div class="alert old">
        <p><b>PLEASE NOTE</b>: This document applies to v1.7 version and not to the latest <strong>stable</strong> release v1.9</p>
      </div>
    
    <div class="docs-text">
      <h1 id="ceph-object-store-crd">Ceph Object Store CRD</h1>

<p>Rook allows creation and customization of object stores through the custom resource definitions (CRDs). The following settings are available for Ceph object stores.</p>

<h2 id="sample">Sample</h2>

<h3 id="erasure-coded">Erasure Coded</h3>

<p>Erasure coded pools can only be used with <code class="language-plaintext highlighter-rouge">dataPools</code>. The <code class="language-plaintext highlighter-rouge">metadataPool</code> must use a replicated pool.</p>

<blockquote>
  <p><strong>NOTE</strong>: This sample requires <em>at least 3 bluestore OSDs</em>, with each OSD located on a <em>different node</em>.</p>
</blockquote>

<p>The OSDs must be located on different nodes, because the <a href="/docs/rook/v1.7/ceph-pool-crd.html#spec"><code class="language-plaintext highlighter-rouge">failureDomain</code></a> is set to <code class="language-plaintext highlighter-rouge">host</code> and the <code class="language-plaintext highlighter-rouge">erasureCoded</code> chunk settings require at least 3 different OSDs (2 <code class="language-plaintext highlighter-rouge">dataChunks</code> + 1 <code class="language-plaintext highlighter-rouge">codingChunks</code>).</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">ceph.rook.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">CephObjectStore</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-store</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">rook-ceph</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">metadataPool</span><span class="pi">:</span>
    <span class="na">failureDomain</span><span class="pi">:</span> <span class="s">host</span>
    <span class="na">replicated</span><span class="pi">:</span>
      <span class="na">size</span><span class="pi">:</span> <span class="m">3</span>
  <span class="na">dataPool</span><span class="pi">:</span>
    <span class="na">failureDomain</span><span class="pi">:</span> <span class="s">host</span>
    <span class="na">erasureCoded</span><span class="pi">:</span>
      <span class="na">dataChunks</span><span class="pi">:</span> <span class="m">2</span>
      <span class="na">codingChunks</span><span class="pi">:</span> <span class="m">1</span>
  <span class="na">preservePoolsOnDelete</span><span class="pi">:</span> <span class="no">true</span>
  <span class="na">gateway</span><span class="pi">:</span>
    <span class="c1"># sslCertificateRef:</span>
    <span class="c1"># caBundleRef:</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">80</span>
    <span class="c1"># securePort: 443</span>
    <span class="na">instances</span><span class="pi">:</span> <span class="m">1</span>
    <span class="c1"># A key/value list of annotations</span>
    <span class="na">annotations</span><span class="pi">:</span>
    <span class="c1">#  key: value</span>
    <span class="na">placement</span><span class="pi">:</span>
    <span class="c1">#  nodeAffinity:</span>
    <span class="c1">#    requiredDuringSchedulingIgnoredDuringExecution:</span>
    <span class="c1">#      nodeSelectorTerms:</span>
    <span class="c1">#      - matchExpressions:</span>
    <span class="c1">#        - key: role</span>
    <span class="c1">#          operator: In</span>
    <span class="c1">#          values:</span>
    <span class="c1">#          - rgw-node</span>
    <span class="c1">#  tolerations:</span>
    <span class="c1">#  - key: rgw-node</span>
    <span class="c1">#    operator: Exists</span>
    <span class="c1">#  podAffinity:</span>
    <span class="c1">#  podAntiAffinity:</span>
    <span class="c1">#  topologySpreadConstraints:</span>
    <span class="na">resources</span><span class="pi">:</span>
    <span class="c1">#  limits:</span>
    <span class="c1">#    cpu: "500m"</span>
    <span class="c1">#    memory: "1024Mi"</span>
    <span class="c1">#  requests:</span>
    <span class="c1">#    cpu: "500m"</span>
    <span class="c1">#    memory: "1024Mi"</span>
  <span class="c1">#zone:</span>
    <span class="c1">#name: zone-a</span>
</code></pre></div></div>

<h2 id="object-store-settings">Object Store Settings</h2>

<h3 id="metadata">Metadata</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">name</code>: The name of the object store to create, which will be reflected in the pool and other resource names.</li>
  <li><code class="language-plaintext highlighter-rouge">namespace</code>: The namespace of the Rook cluster where the object store is created.</li>
</ul>

<h3 id="pools">Pools</h3>

<p>The pools allow all of the settings defined in the Pool CRD spec. For more details, see the <a href="/docs/rook/v1.7/ceph-pool-crd.html">Pool CRD</a> settings. In the example above, there must be at least three hosts (size 3) and at least three devices (2 data + 1 coding chunks) in the cluster.</p>

<p>When the <code class="language-plaintext highlighter-rouge">zone</code> section is set pools with the object stores name will not be created since the object-store will the using the pools created by the ceph-object-zone.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">metadataPool</code>: The settings used to create all of the object store metadata pools. Must use replication.</li>
  <li><code class="language-plaintext highlighter-rouge">dataPool</code>: The settings to create the object store data pool. Can use replication or erasure coding.</li>
  <li><code class="language-plaintext highlighter-rouge">preservePoolsOnDelete</code>: If it is set to ‘true’ the pools used to support the object store will remain when the object store will be deleted. This is a security measure to avoid accidental loss of data. It is set to ‘false’ by default. If not specified is also deemed as ‘false’.</li>
</ul>

<h2 id="gateway-settings">Gateway Settings</h2>

<p>The gateway settings correspond to the RGW daemon settings.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">type</code>: <code class="language-plaintext highlighter-rouge">S3</code> is supported</li>
  <li><code class="language-plaintext highlighter-rouge">sslCertificateRef</code>: If specified, this is the name of the Kubernetes secret(<code class="language-plaintext highlighter-rouge">opaque</code> or <code class="language-plaintext highlighter-rouge">tls</code>
type) that contains the TLS certificate to be used for secure connections to the object store.
If it is an opaque Kubernetes Secret, Rook will look in the secret provided at the <code class="language-plaintext highlighter-rouge">cert</code> key name. The value of the <code class="language-plaintext highlighter-rouge">cert</code> key must be
in the format expected by the <a href="https://docs.ceph.com/docs/master/install/ceph-deploy/install-ceph-gateway/#using-ssl-with-civetweb">RGW
service</a>:
“The server key, server certificate, and any other CA or intermediate certificates be supplied in
one file. Each of these items must be in PEM form.” They are scenarios where the certificate DNS is set for a particular domain
that does not include the local Kubernetes DNS, namely the object store DNS service endpoint. If
adding the service DNS name to the certificate is not empty another key can be specified in the
secret’s data: <code class="language-plaintext highlighter-rouge">insecureSkipVerify: true</code> to skip the certificate verification. It is not
recommended to enable this option since TLS is susceptible to machine-in-the-middle attacks unless
custom verification is used.</li>
  <li><code class="language-plaintext highlighter-rouge">caBundleRef</code>: If specified, this is the name of the Kubernetes secret (type <code class="language-plaintext highlighter-rouge">opaque</code>) that
contains additional custom ca-bundle to use. The secret must be in the same namespace as the Rook
cluster. Rook will look in the secret provided at the <code class="language-plaintext highlighter-rouge">cabundle</code> key name.</li>
  <li><code class="language-plaintext highlighter-rouge">port</code>: The port on which the Object service will be reachable. If host networking is enabled, the RGW daemons will also listen on that port. If running on SDN, the RGW daemon listening port will be 8080 internally.</li>
  <li><code class="language-plaintext highlighter-rouge">securePort</code>: The secure port on which RGW pods will be listening. A TLS certificate must be specified either via <code class="language-plaintext highlighter-rouge">sslCerticateRef</code> or <code class="language-plaintext highlighter-rouge">service.annotations</code></li>
  <li><code class="language-plaintext highlighter-rouge">instances</code>: The number of pods that will be started to load balance this object store.</li>
  <li><code class="language-plaintext highlighter-rouge">externalRgwEndpoints</code>: A list of IP addresses to connect to external existing Rados Gateways (works with external mode). This setting will be ignored if the <code class="language-plaintext highlighter-rouge">CephCluster</code> does not have <code class="language-plaintext highlighter-rouge">external</code> spec enabled. Refer to the <a href="/docs/rook/v1.7/ceph-cluster-crd.html#external-cluster">external cluster section</a> for more details.</li>
  <li><code class="language-plaintext highlighter-rouge">annotations</code>: Key value pair list of annotations to add.</li>
  <li><code class="language-plaintext highlighter-rouge">labels</code>: Key value pair list of labels to add.</li>
  <li><code class="language-plaintext highlighter-rouge">placement</code>: The Kubernetes placement settings to determine where the RGW pods should be started in the cluster.</li>
  <li><code class="language-plaintext highlighter-rouge">resources</code>: Set resource requests/limits for the Gateway Pod(s), see <a href="/docs/rook/v1.7/ceph-cluster-crd.html#resource-requirementslimits">Resource Requirements/Limits</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">priorityClassName</code>: Set priority class name for the Gateway Pod(s)</li>
  <li><code class="language-plaintext highlighter-rouge">service</code>: The annotations to set on to the Kubernetes Service of RGW. The <a href="https://docs.openshift.com/container-platform/4.6/security/certificates/service-serving-certificate.html">service serving cert</a> feature supported in Openshift is enabled by the following example:
    <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">gateway</span><span class="pi">:</span>
<span class="na">service</span><span class="pi">:</span>
  <span class="na">annotations</span><span class="pi">:</span>
    <span class="s">service.beta.openshift.io/serving-cert-secret-name</span><span class="pi">:</span> <span class="s">&lt;name of TLS secret for automatic generation&gt;</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>Example of external rgw endpoints to connect to:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">gateway</span><span class="pi">:</span>
  <span class="na">port</span><span class="pi">:</span> <span class="m">80</span>
  <span class="na">externalRgwEndpoints</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">ip</span><span class="pi">:</span> <span class="s">192.168.39.182</span>
</code></pre></div></div>

<p>This will create a service with the endpoint <code class="language-plaintext highlighter-rouge">192.168.39.182</code> on port <code class="language-plaintext highlighter-rouge">80</code>, pointing to the Ceph object external gateway.
All the other settings from the gateway section will be ignored, except for <code class="language-plaintext highlighter-rouge">securePort</code>.</p>

<h2 id="zone-settings">Zone Settings</h2>

<p>The <a href="/docs/rook/v1.7/ceph-object-multisite.html">zone</a> settings allow the object store to join custom created <a href="/docs/rook/v1.7/ceph-object-multisite-crd.html">ceph-object-zone</a>.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">name</code>: the name of the ceph-object-zone the object store will be in.</li>
</ul>

<h2 id="runtime-settings">Runtime settings</h2>

<h3 id="mime-types">MIME types</h3>

<p>Rook provides a default <code class="language-plaintext highlighter-rouge">mime.types</code> file for each Ceph object store. This file is stored in a
Kubernetes ConfigMap with the name <code class="language-plaintext highlighter-rouge">rook-ceph-rgw-&lt;STORE-NAME&gt;-mime-types</code>. For most users, the
default file should suffice, however, the option is available to users to edit the <code class="language-plaintext highlighter-rouge">mime.types</code>
file in the ConfigMap as they desire. Users may have their own special file types, and particularly
security conscious users may wish to pare down the file to reduce the possibility of a file type
execution attack.</p>

<p>Rook will not overwrite an existing <code class="language-plaintext highlighter-rouge">mime.types</code> ConfigMap so that user modifications will not be
destroyed. If the object store is destroyed and recreated, the ConfigMap will also be destroyed and
created anew.</p>

<h2 id="health-settings">Health settings</h2>

<p>Rook-Ceph will be default monitor the state of the object store endpoints.
The following CRD settings are available:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">healthCheck</code>: main object store health monitoring section</li>
</ul>

<p>Here is a complete example:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">healthCheck</span><span class="pi">:</span>
  <span class="na">bucket</span><span class="pi">:</span>
    <span class="na">disabled</span><span class="pi">:</span> <span class="no">false</span>
    <span class="na">interval</span><span class="pi">:</span> <span class="s">60s</span>
</code></pre></div></div>

<p>The endpoint health check procedure is the following:</p>

<ol>
  <li>Create an S3 user</li>
  <li>Create a bucket with that user</li>
  <li>PUT the file in the object store</li>
  <li>GET the file from the object store</li>
  <li>Verify object consistency</li>
  <li>Update CR health status check</li>
</ol>

<p>Rook-Ceph always keeps the bucket and the user for the health check, it just does a PUT and GET of an s3 object since creating a bucket is an expensive operation.</p>

<h2 id="security-settings">Security settings</h2>

<p>Ceph RGW supports encryption via Key Management System (KMS) using HashiCorp Vault. Refer to the <a href="/docs/rook/v1.7/ceph-cluster-crd.html#vault-kms">vault kms section</a> for detailed explanation.
If these settings are defined, then RGW establish a connection between Vault and whenever S3 client sends a request with Server Side Encryption,
it encrypts that using the key specified by the client. For more details w.r.t RGW, please refer <a href="https://docs.ceph.com/en/latest/radosgw/vault/">Ceph Vault documentation</a></p>

<p>The <code class="language-plaintext highlighter-rouge">security</code> section contains settings related to KMS encryption of the RGW.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">security</span><span class="pi">:</span>
  <span class="na">kms</span><span class="pi">:</span>
    <span class="na">connectionDetails</span><span class="pi">:</span>
      <span class="na">KMS_PROVIDER</span><span class="pi">:</span> <span class="s">vault</span>
      <span class="na">VAULT_ADDR</span><span class="pi">:</span> <span class="s">http://vault.default.svc.cluster.local:8200</span>
      <span class="na">VAULT_BACKEND_PATH</span><span class="pi">:</span> <span class="s">rgw</span>
      <span class="na">VAULT_SECRET_ENGINE</span><span class="pi">:</span> <span class="s">kv</span>
      <span class="na">VAULT_BACKEND</span><span class="pi">:</span> <span class="s">v2</span>
    <span class="c1"># name of the k8s secret containing the kms authentication token</span>
    <span class="na">tokenSecretName</span><span class="pi">:</span> <span class="s">rgw-vault-token</span>
</code></pre></div></div>

<p>For RGW, please note the following:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">VAULT_SECRET_ENGINE</code> option is specifically for RGW to mention about the secret engine which can be used, currently supports two: <a href="https://www.vaultproject.io/docs/secrets/kv">kv</a> and <a href="https://www.vaultproject.io/docs/secrets/transit">transit</a>. And for kv engine only version 2 is supported.</li>
  <li>
    <p>The Storage administrator needs to create a secret in the Vault server so that S3 clients use that key for encryption
$ vault kv put rook/<mybucketkey> key=$(openssl rand -base64 32) # kv engine
$ vault write -f transit/keys/<mybucketkey> exportable=true # transit engine</mybucketkey></mybucketkey></p>
  </li>
  <li>TLS authentication with custom certs between Vault and RGW are yet to be supported.</li>
</ul>

<h2 id="deleting-a-cephobjectstore">Deleting a CephObjectStore</h2>

<p>During deletion of a CephObjectStore resource, Rook protects against accidental or premature
destruction of user data by blocking deletion if there are any object buckets in the object store
being deleted. Buckets may have been created by users or by ObjectBucketClaims.</p>

<p>For deletion to be successful, all buckets in the object store must be removed. This may require
manual deletion or removal of all ObjectBucketClaims. Alternately, the
<code class="language-plaintext highlighter-rouge">cephobjectstore.ceph.rook.io</code> finalizer on the CephObjectStore can be removed to remove the
Kubernetes Custom Resource, but the Ceph pools which store the data will not be removed in this case.</p>

<p>Rook will warn about which buckets are blocking deletion in three ways:</p>
<ol>
  <li>An event will be registered on the CephObjectStore resource</li>
  <li>A status condition will be added to the CephObjectStore resource</li>
  <li>An error will be added to the Rook-Ceph Operator log</li>
</ol>

    </div>
  </div>
</div>

<script>
  var menu = [];
  var BASE_PATH = "";

  function add(name, url, isChild, current) {
    var item = { name: name, url: url, current: current };
    var container = menu;
    if (isChild && menu.length > 0) {
      menu[menu.length-1].children = menu[menu.length-1].children || [];
      container = menu[menu.length-1].children;
      if (current) {
        menu[menu.length-1].childCurrent = true;
      }
    }
    container.push(item);
  }

  
    add(
      "Rook",
      "/docs/rook/v1.7/",
      false,
      false
    );
  
    add(
      "Quickstart",
      "/docs/rook/v1.7/quickstart.html",
      false,
      false
    );
  
    add(
      "Prerequisites",
      "/docs/rook/v1.7/pre-reqs.html",
      false,
      false
    );
  
    add(
      "Authenticated Registries",
      "/docs/rook/v1.7/authenticated-registry.html",
      true,
      false
    );
  
    add(
      "FlexVolume Configuration",
      "/docs/rook/v1.7/flexvolume.html",
      true,
      false
    );
  
    add(
      "Pod Security Policies",
      "/docs/rook/v1.7/pod-security-policies.html",
      true,
      false
    );
  
    add(
      "Ceph Storage",
      "/docs/rook/v1.7/ceph-storage.html",
      false,
      false
    );
  
    add(
      "Admission Controller",
      "/docs/rook/v1.7/admission-controller-usage.html",
      true,
      false
    );
  
    add(
      "Examples",
      "/docs/rook/v1.7/ceph-examples.html",
      true,
      false
    );
  
    add(
      "OpenShift",
      "/docs/rook/v1.7/ceph-openshift.html",
      true,
      false
    );
  
    add(
      "Block Storage",
      "/docs/rook/v1.7/ceph-block.html",
      true,
      false
    );
  
    add(
      "Object Storage",
      "/docs/rook/v1.7/ceph-object.html",
      true,
      false
    );
  
    add(
      "Object Multisite",
      "/docs/rook/v1.7/ceph-object-multisite.html",
      true,
      false
    );
  
    add(
      "Shared Filesystem",
      "/docs/rook/v1.7/ceph-filesystem.html",
      true,
      false
    );
  
    add(
      "Ceph Dashboard",
      "/docs/rook/v1.7/ceph-dashboard.html",
      true,
      false
    );
  
    add(
      "Prometheus Monitoring",
      "/docs/rook/v1.7/ceph-monitoring.html",
      true,
      false
    );
  
    add(
      "Cluster CRD",
      "/docs/rook/v1.7/ceph-cluster-crd.html",
      true,
      false
    );
  
    add(
      "Block Pool CRD",
      "/docs/rook/v1.7/ceph-pool-crd.html",
      true,
      false
    );
  
    add(
      "Object Store CRD",
      "/docs/rook/v1.7/ceph-object-store-crd.html",
      true,
      true
    );
  
    add(
      "Object Multisite CRDs",
      "/docs/rook/v1.7/ceph-object-multisite-crd.html",
      true,
      false
    );
  
    add(
      "Object Bucket Claim",
      "/docs/rook/v1.7/ceph-object-bucket-claim.html",
      true,
      false
    );
  
    add(
      "Object Store User CRD",
      "/docs/rook/v1.7/ceph-object-store-user-crd.html",
      true,
      false
    );
  
    add(
      "Shared Filesystem CRD",
      "/docs/rook/v1.7/ceph-filesystem-crd.html",
      true,
      false
    );
  
    add(
      "NFS CRD",
      "/docs/rook/v1.7/ceph-nfs-crd.html",
      true,
      false
    );
  
    add(
      "Ceph CSI",
      "/docs/rook/v1.7/ceph-csi-drivers.html",
      true,
      false
    );
  
    add(
      "RBD Mirroring",
      "/docs/rook/v1.7/rbd-mirroring.html",
      true,
      false
    );
  
    add(
      "Failover and Failback",
      "/docs/rook/v1.7/async-disaster-recovery.html",
      true,
      false
    );
  
    add(
      "Volume clone",
      "/docs/rook/v1.7/ceph-csi-volume-clone.html",
      true,
      false
    );
  
    add(
      "Snapshots",
      "/docs/rook/v1.7/ceph-csi-snapshot.html",
      true,
      false
    );
  
    add(
      "Client CRD",
      "/docs/rook/v1.7/ceph-client-crd.html",
      true,
      false
    );
  
    add(
      "RBDMirror CRD",
      "/docs/rook/v1.7/ceph-rbd-mirror-crd.html",
      true,
      false
    );
  
    add(
      "FilesystemMirror CRD",
      "/docs/rook/v1.7/ceph-fs-mirror-crd.html",
      true,
      false
    );
  
    add(
      "Configuration",
      "/docs/rook/v1.7/ceph-configuration.html",
      true,
      false
    );
  
    add(
      "Upgrades",
      "/docs/rook/v1.7/ceph-upgrade.html",
      true,
      false
    );
  
    add(
      "Cleanup",
      "/docs/rook/v1.7/ceph-teardown.html",
      true,
      false
    );
  
    add(
      "Helm Charts",
      "/docs/rook/v1.7/helm.html",
      false,
      false
    );
  
    add(
      "Ceph Operator",
      "/docs/rook/v1.7/helm-operator.html",
      true,
      false
    );
  
    add(
      "Ceph Cluster",
      "/docs/rook/v1.7/helm-ceph-cluster.html",
      true,
      false
    );
  
    add(
      "Common Issues",
      "/docs/rook/v1.7/common-issues.html",
      false,
      false
    );
  
    add(
      "Ceph Tools",
      "/docs/rook/v1.7/ceph-tools.html",
      false,
      false
    );
  
    add(
      "Toolbox",
      "/docs/rook/v1.7/ceph-toolbox.html",
      true,
      false
    );
  
    add(
      "Common Issues",
      "/docs/rook/v1.7/ceph-common-issues.html",
      true,
      false
    );
  
    add(
      "CSI Common Issues",
      "/docs/rook/v1.7/ceph-csi-troubleshooting.html",
      true,
      false
    );
  
    add(
      "Monitor Health",
      "/docs/rook/v1.7/ceph-mon-health.html",
      true,
      false
    );
  
    add(
      "OSD Management",
      "/docs/rook/v1.7/ceph-osd-mgmt.html",
      true,
      false
    );
  
    add(
      "Direct Tools",
      "/docs/rook/v1.7/direct-tools.html",
      true,
      false
    );
  
    add(
      "Advanced Configuration",
      "/docs/rook/v1.7/ceph-advanced-configuration.html",
      true,
      false
    );
  
    add(
      "OpenShift Common Issues",
      "/docs/rook/v1.7/ceph-openshift-issues.html",
      true,
      false
    );
  
    add(
      "Disaster Recovery",
      "/docs/rook/v1.7/ceph-disaster-recovery.html",
      true,
      false
    );
  
    add(
      "Flex Migration",
      "/docs/rook/v1.7/flex-to-csi-migration.html",
      true,
      false
    );
  
    add(
      "Contributing",
      "/docs/rook/v1.7/development-flow.html",
      false,
      false
    );
  
    add(
      "Storage Providers",
      "/docs/rook/v1.7/storage-providers.html",
      true,
      false
    );
  
    add(
      "Multi-Node Test Environment",
      "/docs/rook/v1.7/development-environment.html",
      true,
      false
    );
  

  function getEntry(item) {
    var itemDom = document.createElement('li');

    if (item.current) {
      itemDom.innerHTML = item.name;
      itemDom.classList.add('current');
    } else {
      itemDom.innerHTML = '<a href="' + item.url + '">' + item.name + '</a>';
    }

    return itemDom;
  }

  // Flush css changes as explained in: https://stackoverflow.com/a/34726346
  // and more completely: https://stackoverflow.com/a/6956049
  function flushCss(element) {
    element.offsetHeight;
  }

  function addArrow(itemDom) {
    var MAIN_ITEM_HEIGHT = 24;
    var BOTTOM_PADDING = 20;
    var arrowDom = document.createElement('a');
    arrowDom.classList.add('arrow');
    arrowDom.innerHTML = '<img src="' + BASE_PATH + '/images/arrow.svg" />';
    arrowDom.onclick = function(itemDom) {
      return function () {
        // Calculated full height of the opened list
        var fullHeight = MAIN_ITEM_HEIGHT + BOTTOM_PADDING + itemDom.lastChild.clientHeight + 'px';

        itemDom.classList.toggle('open');

        if (itemDom.classList.contains('open')) {
          itemDom.style.height = fullHeight;
        } else {
          // If the list height is auto we have to set it to fullHeight
          // without tranistion before we shrink it to collapsed height
          if (itemDom.style.height === 'auto') {
            itemDom.style.transition = 'none';
            itemDom.style.height = fullHeight;
            flushCss(itemDom);
            itemDom.style.transition = '';
          }
          itemDom.style.height = MAIN_ITEM_HEIGHT + 'px';
        }

        return false;
      };
    }(itemDom);
    itemDom.appendChild(arrowDom);

    if ((item.current && item.children) || item.childCurrent) {
      itemDom.classList.add('open');
      itemDom.style.height = 'auto';
    } else {
      itemDom.style.height = MAIN_ITEM_HEIGHT + 'px';
    }
  }

  var menuDom = document.getElementById('docs-ul');
  for (var i = 0; i < menu.length; i++) {
    var item = menu[i];
    var itemDom = getEntry(item);

    if (item.childCurrent) {
      itemDom.classList.add('childCurrent');
    }

    if (item.children) {
      addArrow(itemDom);
      itemDom.classList.add('children');
      var children = document.createElement('ul');
      for (var j = 0; j < item.children.length; j++) {
        children.appendChild(getEntry(item.children[j]));
      }
      itemDom.appendChild(children);
    }
    menuDom.appendChild(itemDom);
  }
</script>
</div></main>
    <footer id="footer" aria-label="Footer">
  <div class="top">
    <a href="//www.cncf.io">
      <img
        class="cncf"
        src="/images/cncf.png"
        srcset="/images/cncf@2x.png 2x, /images/cncf@3x.png 3x" />
    </a>
    <p>We are a Cloud Native Computing Foundation graduated project.</p>
  </div>
  <div class="middle">
    <div class="grid-center">
      <div class="col_sm-12">
        <span>Getting Started</span>
        <a href="//github.com/rook/rook">GitHub</a>
        <a href="/docs/rook/v1.9/">Documentation</a>
        <a href="//github.com/rook/rook/blob/master/CONTRIBUTING.md#how-to-contribute">How to Contribute</a>
      </div>
      <div class="col_sm-12">
        <span>Community</span>
        <a href="//slack.rook.io/">Slack</a>
        <a href="//twitter.com/rook_io">Twitter</a>
        <a href="//groups.google.com/forum/#!forum/rook-dev">Forum</a>
        <a href="//blog.rook.io/">Blog</a>
      </div>
      <div class="col_sm-12">
        <span>Contact</span>
        <a href="mailto:cncf-rook-info@lists.cncf.io">Email</a>
        <a href="//github.com/rook/rook/issues">Feature request</a>
      </div>
      <div class="col_sm-12">
        <span>Top Contributors</span>
        <a href="//cloudical.io/">Cloudical</a>
        <a href="//cybozu.com">Cybozu, Inc</a>
        <a href="//www.redhat.com">Red Hat</a>
        <a href="//www.suse.com/">SUSE</a>
        <a href="//upbound.io">Upbound</a>
      </div>
    </div>
  </div>
  <div class="bottom">
    <div class="grid-center">
      <div class="col-8">
        <a class="logo" href="/">
          <img src="/images/rook-logo-small.svg" alt="rook.io" />
        </a>
        <p>
          &#169; Rook Authors 2022. Documentation distributed under
          <a href="https://creativecommons.org/licenses/by/4.0">CC-BY-4.0</a>.
        </p>
        <p>
          &#169; 2022 The Linux Foundation. All rights reserved. The Linux Foundation has
          registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our
          <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> page.
        </p>
      </div>
    </div>
  </div>
</footer>


  <script src="/js/anchor.js"></script>
  <script>
    anchors.options = {
      placement: 'right',
      icon: '#',
    }

    document.addEventListener('DOMContentLoaded', function(event) {
      anchors.add('.docs-text h1, .docs-text h2, .docs-text h3, .docs-text h4, .docs-text h5, .docs-text h6');
    });
  </script>




    
  </body>
</html>
