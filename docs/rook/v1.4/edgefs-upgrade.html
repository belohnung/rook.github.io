












































<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    
    <meta name="robots" content="noindex">
    

    <title>Ceph Docs</title>

    <link rel="canonical" href="https://rook.io/docs/rook/v1.4/edgefs-upgrade.html">

    <link rel="icon" href="/favicon.ico" />
<link rel="icon" type="image/png" href="/images/favicon_16x16.png" sizes="16x16" />
<link rel="icon" type="image/png" href="/images/favicon_32x32.png" sizes="32x32" />
<link rel="icon" type="image/png" href="/images/favicon_48x48.png" sizes="48x48" />
<link rel="icon" type="image/png" href="/images/favicon_192x192.png" sizes="192x192" />


    <link href="//fonts.googleapis.com/css?family=Montserrat:500|Open+Sans:300,400,600" rel="stylesheet">
    
    <link rel="stylesheet" href="/css/main.css">
    
      <link rel="stylesheet" href="/css/docs.css" />
    
  </head>
  <body>
    <nav id="navigation" aria-label="Navigation">
  <div>
    <div class="logo">
      <a href="/"><img src="/images/rook-logo.svg"/></a>
    </div>
    <div
      class="hamburger-controls"
      onclick="if (document.body.classList.contains('menu-open')) { document.body.classList.remove('menu-open') } else { document.body.classList.add('menu-open') }; return false;">
      <span></span> <span></span> <span></span>
    </div>
    <ul class="links">
      <li class="dropdown">
        <a role="button" href="javascript:void(0)">Documentation</a>
        <div class="dropdown-content">
          <a href="/docs/rook/v1.9/">Ceph</a>
          <a href="/docs/cassandra/v1.7/">Cassandra</a>
          <a href="/docs/nfs/v1.7/">NFS</a>
        </div>
      <li class="dropdown">
        <a role="button" href="javascript:void(0)">Community</a>
        <div class="dropdown-content">
          <a href="//github.com/rook/rook">GitHub</a>
          <a href="//slack.rook.io/">Slack</a>
          <a href="//groups.google.com/forum/#!forum/rook-dev">Forum</a>
          <a href="//twitter.com/rook_io">Twitter</a>
        </div>
      </li>
      <li><a href="//blog.rook.io/">Blog</a></li>
      <li><a class="button small" href="/docs/rook/v1.9/quickstart.html">Get Started</a></li>
    </ul>
  </div>
</nav>

    <main id="content" aria-label="Content"><div>



















<section class="docs-header">
  <h1>Ceph</h1>
  <div class="versions">
    <a role="button" href="javascript:void(0)">Rook Ceph v1.4</a>
    <div class="versions-dropdown-content">
      
        <a href="/docs/rook/v1.9/edgefs-upgrade.html">Rook Ceph v1.9</a>
      
        <a href="/docs/rook/v1.8/edgefs-upgrade.html">Rook Ceph v1.8</a>
      
        <a href="/docs/rook/v1.7/edgefs-upgrade.html">Rook Ceph v1.7</a>
      
        <a href="/docs/rook/v1.6/edgefs-upgrade.html">Rook Ceph v1.6</a>
      
        <a href="/docs/rook/v1.5/edgefs-upgrade.html">Rook Ceph v1.5</a>
      
        <a href="/docs/rook/v1.4/edgefs-upgrade.html" class="active">Rook Ceph v1.4</a>
      
        <a href="/docs/rook/v1.3/edgefs-upgrade.html">Rook Ceph v1.3</a>
      
        <a href="/docs/rook/v1.2/edgefs-upgrade.html">Rook Ceph v1.2</a>
      
        <a href="/docs/rook/v1.1/edgefs-upgrade.html">Rook Ceph v1.1</a>
      
        <a href="/docs/rook/v1.0/edgefs-upgrade.html">Rook Ceph v1.0</a>
      
        <a href="/docs/rook/v0.9/edgefs-upgrade.html">Rook Ceph v0.9</a>
      
        <a href="/docs/rook/v0.8/edgefs-upgrade.html">Rook Ceph v0.8</a>
      
        <a href="/docs/rook/v0.7/edgefs-upgrade.html">Rook Ceph v0.7</a>
      
        <a href="/docs/rook/v0.6/edgefs-upgrade.html">Rook Ceph v0.6</a>
      
        <a href="/docs/rook/v0.5/edgefs-upgrade.html">Rook Ceph v0.5</a>
      
        <a href="/docs/rook/latest/edgefs-upgrade.html">Rook Ceph latest</a>
      
    </div>
    <img src="/images/arrow.svg" />
  </div>
</section>
<div class="page">
  <div class="docs-menu">
      <ul id="docs-ul"></ul>
  </div>
  <div class="docs-content">
    <div class="docs-actions">
      <a id="edit" href="https://github.com/rook/rook/blob/master/Documentation/edgefs-upgrade.md">Edit on GitHub</a>
    </div>
    
      <div class="alert old">
        <p><b>PLEASE NOTE</b>: This document applies to v1.4 version and not to the latest <strong>stable</strong> release v1.9</p>
      </div>
    
    <div class="docs-text">
      <h1 id="edgefs-upgrades">EdgeFS Upgrades</h1>

<p><a href="https://github.com/rook/rook/issues/5823#issuecomment-703834989">Deprecated</a></p>

<p>This guide will walk you through the manual steps to upgrade the software in a Rook EdgeFS cluster
from one version to the next. Rook EdgeFS is a multi-cloud distributed software system and
therefore there are multiple components to individually upgrade in the sequence defined in this
guide. After each component is upgraded, it is important to verify that the cluster returns to a
healthy and fully functional state.</p>

<p>We welcome feedback and opening issues!</p>

<h2 id="supported-versions">Supported Versions</h2>

<p>The supported version for this upgrade guide is <strong>from a 1.0 release to a 1.x releases</strong>.
Build-to-build upgrades are not guaranteed to work. This guide is to perform upgrades only between
the official releases.</p>

<p>Upgrades from Alpha to Beta not supported. However, please see migration procedure below.</p>

<h2 id="edgefs-migration">EdgeFS Migration</h2>

<p>EdgeFS Operator provides a way of preserving data on disks or directories while moving to a
new version (like Alpha to Beta transitioning) or reconfiguring (like full re-start).</p>

<p>We will do all our work in the EdgeFS example manifests directory.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">cd $</span>YOUR_ROOK_REPO/cluster/examples/kubernetes/edgefs/
</code></pre></div></div>

<p>Example of migration from existing <code class="language-plaintext highlighter-rouge">v1beta1</code> EdgeFS cluster to stable <code class="language-plaintext highlighter-rouge">v1</code> EdgeFS cluster:
For already existing EdgeFS manifests we should replace <code class="language-plaintext highlighter-rouge">v1beta1</code> version to <code class="language-plaintext highlighter-rouge">v1</code>.
We can use a few simple <code class="language-plaintext highlighter-rouge">sed</code> commands to do this for all manifests at once.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">sed -i.bak -e "s/edgefs.rook.io\/v1beta1/edgefs.rook.io\/v1beta1/g" *.yaml
sed -i -e "s/edgefs.rook.io\/v1beta1/edgefs.rook.io\/v1/g" *.yaml
mkdir -p backups
mv *.bak backups/
</span></code></pre></div></div>

<p>Then we should add new <code class="language-plaintext highlighter-rouge">v1</code> version specification to existing EdgeFS’ CRDs.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">kubectl apply -f upgrade-from-v1beta1-create.yaml
</span></code></pre></div></div>

<p>And replace EdgeFS operator to new stable ‘v1’ version</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">kubectl -n rook-edgefs-system set image deploy/rook-edgefs-operator rook-edgefs-operator=rook/edgefs:v1.1.0
</span></code></pre></div></div>

<p>Then you could update your cluster’s EdgeFS image for latest one as discribed below.</p>

<h2 id="edgefs-version-upgrade">EdgeFS Version Upgrade</h2>

<p>Official EddgeFS container images can be found on <a href="https://hub.docker.com/r/edgefs/edgefs/tags">Docker Hub</a>.</p>

<ol>
  <li>Update the EdgeFS image used for the EdgeFS cluster:</li>
</ol>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">#</span><span class="w"> </span>Parameterize the environment
<span class="go">export ROOK_SYSTEM_NAMESPACE="rook-edgefs-system"
export CLUSTER_NAME="rook-edgefs"
</span></code></pre></div></div>

<p>The majority of the upgrade will be handled by the Rook operator. Begin the upgrade by changing the
EdgeFS image field in the cluster CRD (<code class="language-plaintext highlighter-rouge">spec:edgefsImageName</code>).</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">NEW_EDGEFS_IMAGE='edgefs/edgefs:latest'
</span><span class="gp">kubectl -n $</span>CLUSTER_NAME patch Cluster <span class="nv">$CLUSTER_NAME</span> <span class="nt">--type</span><span class="o">=</span>merge <span class="se">\</span>
  <span class="nt">-p</span> <span class="s2">"{</span><span class="se">\"</span><span class="s2">spec</span><span class="se">\"</span><span class="s2">: {</span><span class="se">\"</span><span class="s2">edgefsImageName</span><span class="se">\"</span><span class="s2">: </span><span class="se">\"</span><span class="nv">$NEW_EDGEFS_IMAGE</span><span class="se">\"</span><span class="s2">}}"</span>
</code></pre></div></div>

<p>or via console editor update the <code class="language-plaintext highlighter-rouge">edgefsImageName</code> property:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">kubectl edit -n $</span>CLUSTER_NAME Cluster <span class="nv">$CLUSTER_NAME</span>
</code></pre></div></div>

<p>and save results.</p>

<ol>
  <li>Wait for the pod updates to complete:</li>
</ol>

<p>As with upgrading Rook, you must now wait for the upgrade to complete. Determining when the EdgeFS
version has fully updated is rather simple.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">kubectl -n $</span>CLUSTER_NAME describe pods | <span class="nb">grep</span> <span class="s2">"Image:"</span> | <span class="nb">sort</span> | <span class="nb">uniq</span>
<span class="gp">#</span><span class="w"> </span>This cluster is not yet finished:
<span class="gp">#</span><span class="w">      </span>Image:         edgefs/edgefs:1.2.31
<span class="gp">#</span><span class="w">      </span>Image:         edgefs/edgefs:1.2.50
<span class="gp">#</span><span class="w">      </span>Image:         edgefs/edgefs-restapi:1.2.31
<span class="gp">#</span><span class="w">      </span>Image:         edgefs/edgefs-ui:1.2.31
<span class="gp">#</span><span class="w"> </span>This cluster is also finished<span class="o">(</span>all versions are the same<span class="o">)</span>:
<span class="gp">#</span><span class="w">      </span>Image:         edgefs/edgefs:1.2.50
<span class="gp">#</span><span class="w">      </span>Image:         edgefs/edgefs-restapi:1.2.50
<span class="gp">#</span><span class="w">      </span>Image:         edgefs/edgefs-ui:1.2.50
</code></pre></div></div>

<ol>
  <li>Verify the updated EdgeFS cluster:</li>
</ol>

<p>Access to  EdgeFS mgr pod and check EdgeFS system status</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">kubectl exec -it -n $</span>CLUSTER_NAME rook-edgefs-mgr-xxxx-xxx <span class="nt">--</span> toolbox
<span class="go">efscli system status -v 1
</span></code></pre></div></div>

<h2 id="edgefs-nodes-update">EdgeFS Nodes Update</h2>

<p>Nodes can be added and removed over time by updating the Cluster CRD, for example with <code class="language-plaintext highlighter-rouge">kubectl edit Cluster -n rook-edgefs</code>.
This will bring up your default text editor and allow you to add and remove storage nodes from the cluster.
This feature is only available when <code class="language-plaintext highlighter-rouge">useAllNodes</code> has been set to <code class="language-plaintext highlighter-rouge">false</code> and <code class="language-plaintext highlighter-rouge">resurrect</code> mode is not used.</p>

<h3 id="add-node-example">Add node Example</h3>

<ol>
  <li>Edit Cluster CRD <code class="language-plaintext highlighter-rouge">kubectl edit Cluster -n rook-edgefs</code></li>
  <li>Add new node section with desired configuration in storage section of Cluster CRD:</li>
</ol>

<p>Currently we adding new node <code class="language-plaintext highlighter-rouge">node3072ub16</code> with two drives <code class="language-plaintext highlighter-rouge">sdb</code> and <code class="language-plaintext highlighter-rouge">sdc</code> on it.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="pi">-</span> <span class="na">config</span><span class="pi">:</span> <span class="no">null</span>
      <span class="na">devices</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">FullPath</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
        <span class="na">config</span><span class="pi">:</span> <span class="no">null</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">sdb</span>
      <span class="pi">-</span> <span class="na">FullPath</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
        <span class="na">config</span><span class="pi">:</span> <span class="no">null</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">sdc</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">node3072ub16</span>
      <span class="na">resources</span><span class="pi">:</span> <span class="pi">{}</span>
</code></pre></div></div>

<ul>
  <li>Save CRD and operator will update all target nodes and related pods of the EdgeFS cluster.</li>
  <li>Login to EdgeFS mgr toolbox and adjust FlexHash table to a new configuration using <code class="language-plaintext highlighter-rouge">efscli system fhtable</code> command.</li>
</ul>

<h2 id="edgefs-operator-upgrade">EdgeFS Operator Upgrade</h2>

<p>In terms of to bring new Rook Operator features on a running system, it needs to be upgraded first.
And once upgraded, you will need to create new CustomResourceDefinition(s).</p>

<ol>
  <li>Edit deployment with <code class="language-plaintext highlighter-rouge">kubectl edit deploy rook-edgefs-operator -n rook-edgefs-system</code> and set to a new version</li>
  <li>Apply new CRDs or changes. Look at examples in cluster/examples/kubernetes/edgefs/operator.yaml.</li>
  <li>Monitor operator logs with <code class="language-plaintext highlighter-rouge">kubectl logs rook-edgefs-operator-ID -n rook-edgefs-system</code></li>
</ol>

    </div>
  </div>
</div>

<script>
  var menu = [];
  var BASE_PATH = "";

  function add(name, url, isChild, current) {
    var item = { name: name, url: url, current: current };
    var container = menu;
    if (isChild && menu.length > 0) {
      menu[menu.length-1].children = menu[menu.length-1].children || [];
      container = menu[menu.length-1].children;
      if (current) {
        menu[menu.length-1].childCurrent = true;
      }
    }
    container.push(item);
  }

  
    add(
      "Rook",
      "/docs/rook/v1.4/",
      false,
      false
    );
  
    add(
      "Quickstart",
      "/docs/rook/v1.4/quickstart.html",
      false,
      false
    );
  
    add(
      "Cassandra",
      "/docs/rook/v1.4/cassandra.html",
      true,
      false
    );
  
    add(
      "Ceph Storage",
      "/docs/rook/v1.4/ceph-quickstart.html",
      true,
      false
    );
  
    add(
      "CockroachDB",
      "/docs/rook/v1.4/cockroachdb.html",
      true,
      false
    );
  
    add(
      "EdgeFS Data Fabric",
      "/docs/rook/v1.4/edgefs-quickstart.html",
      true,
      false
    );
  
    add(
      "Network Filesystem (NFS)",
      "/docs/rook/v1.4/nfs.html",
      true,
      false
    );
  
    add(
      "YugabyteDB",
      "/docs/rook/v1.4/yugabytedb.html",
      true,
      false
    );
  
    add(
      "Prerequisites",
      "/docs/rook/v1.4/k8s-pre-reqs.html",
      false,
      false
    );
  
    add(
      "FlexVolume Configuration",
      "/docs/rook/v1.4/flexvolume.html",
      true,
      false
    );
  
    add(
      "Ceph Storage",
      "/docs/rook/v1.4/ceph-storage.html",
      false,
      false
    );
  
    add(
      "Prerequisites",
      "/docs/rook/v1.4/ceph-prerequisites.html",
      true,
      false
    );
  
    add(
      "Admission Controller",
      "/docs/rook/v1.4/admission-controller-usage.html",
      true,
      false
    );
  
    add(
      "Examples",
      "/docs/rook/v1.4/ceph-examples.html",
      true,
      false
    );
  
    add(
      "OpenShift",
      "/docs/rook/v1.4/ceph-openshift.html",
      true,
      false
    );
  
    add(
      "Block Storage",
      "/docs/rook/v1.4/ceph-block.html",
      true,
      false
    );
  
    add(
      "Object Storage",
      "/docs/rook/v1.4/ceph-object.html",
      true,
      false
    );
  
    add(
      "Object Multisite",
      "/docs/rook/v1.4/ceph-object-multisite.html",
      true,
      false
    );
  
    add(
      "Shared Filesystem",
      "/docs/rook/v1.4/ceph-filesystem.html",
      true,
      false
    );
  
    add(
      "Ceph Dashboard",
      "/docs/rook/v1.4/ceph-dashboard.html",
      true,
      false
    );
  
    add(
      "Prometheus Monitoring",
      "/docs/rook/v1.4/ceph-monitoring.html",
      true,
      false
    );
  
    add(
      "Cluster CRD",
      "/docs/rook/v1.4/ceph-cluster-crd.html",
      true,
      false
    );
  
    add(
      "Block Pool CRD",
      "/docs/rook/v1.4/ceph-pool-crd.html",
      true,
      false
    );
  
    add(
      "Object Store CRD",
      "/docs/rook/v1.4/ceph-object-store-crd.html",
      true,
      false
    );
  
    add(
      "Object Multisite CRDs",
      "/docs/rook/v1.4/ceph-object-multisite-crd.html",
      true,
      false
    );
  
    add(
      "Object Bucket Claim",
      "/docs/rook/v1.4/ceph-object-bucket-claim.html",
      true,
      false
    );
  
    add(
      "Object Store User CRD",
      "/docs/rook/v1.4/ceph-object-store-user-crd.html",
      true,
      false
    );
  
    add(
      "Shared Filesystem CRD",
      "/docs/rook/v1.4/ceph-filesystem-crd.html",
      true,
      false
    );
  
    add(
      "NFS CRD",
      "/docs/rook/v1.4/ceph-nfs-crd.html",
      true,
      false
    );
  
    add(
      "Ceph CSI",
      "/docs/rook/v1.4/ceph-csi-drivers.html",
      true,
      false
    );
  
    add(
      "Volume clone",
      "/docs/rook/v1.4/ceph-csi-volume-clone.html",
      true,
      false
    );
  
    add(
      "Snapshots",
      "/docs/rook/v1.4/ceph-csi-snapshot.html",
      true,
      false
    );
  
    add(
      "Client CRD",
      "/docs/rook/v1.4/ceph-client-crd.html",
      true,
      false
    );
  
    add(
      "RBDMirror CRD",
      "/docs/rook/v1.4/ceph-rbd-mirror-crd.html",
      true,
      false
    );
  
    add(
      "Configuration",
      "/docs/rook/v1.4/ceph-configuration.html",
      true,
      false
    );
  
    add(
      "Upgrades",
      "/docs/rook/v1.4/ceph-upgrade.html",
      true,
      false
    );
  
    add(
      "Cleanup",
      "/docs/rook/v1.4/ceph-teardown.html",
      true,
      false
    );
  
    add(
      "EdgeFS Data Fabric",
      "/docs/rook/v1.4/edgefs-storage.html",
      false,
      false
    );
  
    add(
      "Cluster CRD",
      "/docs/rook/v1.4/edgefs-cluster-crd.html",
      true,
      false
    );
  
    add(
      "ISGW Link CRD",
      "/docs/rook/v1.4/edgefs-isgw-crd.html",
      true,
      false
    );
  
    add(
      "Scale-Out NFS CRD",
      "/docs/rook/v1.4/edgefs-nfs-crd.html",
      true,
      false
    );
  
    add(
      "Scale-Out SMB CRD",
      "/docs/rook/v1.4/edgefs-smb-crd.html",
      true,
      false
    );
  
    add(
      "Edge-X S3 CRD",
      "/docs/rook/v1.4/edgefs-s3x-crd.html",
      true,
      false
    );
  
    add(
      "AWS S3 CRD",
      "/docs/rook/v1.4/edgefs-s3-crd.html",
      true,
      false
    );
  
    add(
      "OpenStack/SWIFT CRD",
      "/docs/rook/v1.4/edgefs-swift-crd.html",
      true,
      false
    );
  
    add(
      "iSCSI Target CRD",
      "/docs/rook/v1.4/edgefs-iscsi-crd.html",
      true,
      false
    );
  
    add(
      "CSI driver",
      "/docs/rook/v1.4/edgefs-csi.html",
      true,
      false
    );
  
    add(
      "Monitoring",
      "/docs/rook/v1.4/edgefs-monitoring.html",
      true,
      false
    );
  
    add(
      "User Interface",
      "/docs/rook/v1.4/edgefs-ui.html",
      true,
      false
    );
  
    add(
      "VDEV Management",
      "/docs/rook/v1.4/edgefs-vdev-management.html",
      true,
      false
    );
  
    add(
      "Upgrade",
      "/docs/rook/v1.4/edgefs-upgrade.html",
      true,
      true
    );
  
    add(
      "Cassandra Cluster CRD",
      "/docs/rook/v1.4/cassandra-cluster-crd.html",
      false,
      false
    );
  
    add(
      "Upgrade",
      "/docs/rook/v1.4/cassandra-operator-upgrade.html",
      true,
      false
    );
  
    add(
      "CockroachDB Cluster CRD",
      "/docs/rook/v1.4/cockroachdb-cluster-crd.html",
      false,
      false
    );
  
    add(
      "NFS Server CRD",
      "/docs/rook/v1.4/nfs-crd.html",
      false,
      false
    );
  
    add(
      "YugabyteDB Cluster CRD",
      "/docs/rook/v1.4/yugabytedb-cluster-crd.html",
      false,
      false
    );
  
    add(
      "Helm Charts",
      "/docs/rook/v1.4/helm.html",
      false,
      false
    );
  
    add(
      "Ceph Operator",
      "/docs/rook/v1.4/helm-operator.html",
      true,
      false
    );
  
    add(
      "Common Issues",
      "/docs/rook/v1.4/common-issues.html",
      false,
      false
    );
  
    add(
      "Ceph Tools",
      "/docs/rook/v1.4/ceph-tools.html",
      false,
      false
    );
  
    add(
      "Toolbox",
      "/docs/rook/v1.4/ceph-toolbox.html",
      true,
      false
    );
  
    add(
      "Common Issues",
      "/docs/rook/v1.4/ceph-common-issues.html",
      true,
      false
    );
  
    add(
      "OSD Management",
      "/docs/rook/v1.4/ceph-osd-mgmt.html",
      true,
      false
    );
  
    add(
      "Direct Tools",
      "/docs/rook/v1.4/direct-tools.html",
      true,
      false
    );
  
    add(
      "Advanced Configuration",
      "/docs/rook/v1.4/ceph-advanced-configuration.html",
      true,
      false
    );
  
    add(
      "OpenShift Common Issues",
      "/docs/rook/v1.4/ceph-openshift-issues.html",
      true,
      false
    );
  
    add(
      "Container Linux",
      "/docs/rook/v1.4/container-linux.html",
      true,
      false
    );
  
    add(
      "Disaster Recovery",
      "/docs/rook/v1.4/ceph-disaster-recovery.html",
      true,
      false
    );
  
    add(
      "Tectonic Configuration",
      "/docs/rook/v1.4/tectonic.html",
      true,
      false
    );
  
    add(
      "Contributing",
      "/docs/rook/v1.4/development-flow.html",
      false,
      false
    );
  
    add(
      "Multi-Node Test Environment",
      "/docs/rook/v1.4/development-environment.html",
      true,
      false
    );
  

  function getEntry(item) {
    var itemDom = document.createElement('li');

    if (item.current) {
      itemDom.innerHTML = item.name;
      itemDom.classList.add('current');
    } else {
      itemDom.innerHTML = '<a href="' + item.url + '">' + item.name + '</a>';
    }

    return itemDom;
  }

  // Flush css changes as explained in: https://stackoverflow.com/a/34726346
  // and more completely: https://stackoverflow.com/a/6956049
  function flushCss(element) {
    element.offsetHeight;
  }

  function addArrow(itemDom) {
    var MAIN_ITEM_HEIGHT = 24;
    var BOTTOM_PADDING = 20;
    var arrowDom = document.createElement('a');
    arrowDom.classList.add('arrow');
    arrowDom.innerHTML = '<img src="' + BASE_PATH + '/images/arrow.svg" />';
    arrowDom.onclick = function(itemDom) {
      return function () {
        // Calculated full height of the opened list
        var fullHeight = MAIN_ITEM_HEIGHT + BOTTOM_PADDING + itemDom.lastChild.clientHeight + 'px';

        itemDom.classList.toggle('open');

        if (itemDom.classList.contains('open')) {
          itemDom.style.height = fullHeight;
        } else {
          // If the list height is auto we have to set it to fullHeight
          // without tranistion before we shrink it to collapsed height
          if (itemDom.style.height === 'auto') {
            itemDom.style.transition = 'none';
            itemDom.style.height = fullHeight;
            flushCss(itemDom);
            itemDom.style.transition = '';
          }
          itemDom.style.height = MAIN_ITEM_HEIGHT + 'px';
        }

        return false;
      };
    }(itemDom);
    itemDom.appendChild(arrowDom);

    if ((item.current && item.children) || item.childCurrent) {
      itemDom.classList.add('open');
      itemDom.style.height = 'auto';
    } else {
      itemDom.style.height = MAIN_ITEM_HEIGHT + 'px';
    }
  }

  var menuDom = document.getElementById('docs-ul');
  for (var i = 0; i < menu.length; i++) {
    var item = menu[i];
    var itemDom = getEntry(item);

    if (item.childCurrent) {
      itemDom.classList.add('childCurrent');
    }

    if (item.children) {
      addArrow(itemDom);
      itemDom.classList.add('children');
      var children = document.createElement('ul');
      for (var j = 0; j < item.children.length; j++) {
        children.appendChild(getEntry(item.children[j]));
      }
      itemDom.appendChild(children);
    }
    menuDom.appendChild(itemDom);
  }
</script>
</div></main>
    <footer id="footer" aria-label="Footer">
  <div class="top">
    <a href="//www.cncf.io">
      <img
        class="cncf"
        src="/images/cncf.png"
        srcset="/images/cncf@2x.png 2x, /images/cncf@3x.png 3x" />
    </a>
    <p>We are a Cloud Native Computing Foundation graduated project.</p>
  </div>
  <div class="middle">
    <div class="grid-center">
      <div class="col_sm-12">
        <span>Getting Started</span>
        <a href="//github.com/rook/rook">GitHub</a>
        <a href="/docs/rook/v1.9/">Documentation</a>
        <a href="//github.com/rook/rook/blob/master/CONTRIBUTING.md#how-to-contribute">How to Contribute</a>
      </div>
      <div class="col_sm-12">
        <span>Community</span>
        <a href="//slack.rook.io/">Slack</a>
        <a href="//twitter.com/rook_io">Twitter</a>
        <a href="//groups.google.com/forum/#!forum/rook-dev">Forum</a>
        <a href="//blog.rook.io/">Blog</a>
      </div>
      <div class="col_sm-12">
        <span>Contact</span>
        <a href="mailto:cncf-rook-info@lists.cncf.io">Email</a>
        <a href="//github.com/rook/rook/issues">Feature request</a>
      </div>
      <div class="col_sm-12">
        <span>Top Contributors</span>
        <a href="//cloudical.io/">Cloudical</a>
        <a href="//cybozu.com">Cybozu, Inc</a>
        <a href="//www.redhat.com">Red Hat</a>
        <a href="//www.suse.com/">SUSE</a>
        <a href="//upbound.io">Upbound</a>
      </div>
    </div>
  </div>
  <div class="bottom">
    <div class="grid-center">
      <div class="col-8">
        <a class="logo" href="/">
          <img src="/images/rook-logo-small.svg" alt="rook.io" />
        </a>
        <p>
          &#169; Rook Authors 2022. Documentation distributed under
          <a href="https://creativecommons.org/licenses/by/4.0">CC-BY-4.0</a>.
        </p>
        <p>
          &#169; 2022 The Linux Foundation. All rights reserved. The Linux Foundation has
          registered trademarks and uses trademarks. For a list of trademarks of The Linux Foundation, please see our
          <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a> page.
        </p>
      </div>
    </div>
  </div>
</footer>


  <script src="/js/anchor.js"></script>
  <script>
    anchors.options = {
      placement: 'right',
      icon: '#',
    }

    document.addEventListener('DOMContentLoaded', function(event) {
      anchors.add('.docs-text h1, .docs-text h2, .docs-text h3, .docs-text h4, .docs-text h5, .docs-text h6');
    });
  </script>




    
  </body>
</html>
